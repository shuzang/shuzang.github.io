<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>以太坊开发2-创世区块文件genesis.json | Shuzang's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="书藏的个人博客，包括Golang、数据结构、算法的学习记录，各类生活技能的学习，每周五发布一期自己的生活周刊"><link rel=prev href=https://shuzang.github.io/2019/use-virtual-machine-builds-ethereum-private-chain/><link rel=next href=https://shuzang.github.io/2019/geth-client-use/><link rel=canonical href=https://shuzang.github.io/2019/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%BC%80%E5%8F%912-%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97%E6%96%87%E4%BB%B6genesis.json/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="以太坊开发2-创世区块文件genesis.json"><meta name=twitter:description content="文件说明 关于genesis.json的官方说明位于两处 Private network Connecting to the network 每条区块链都以创世区块开头，而genesis.json正是创世区块的配置文"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"以太坊开发2-创世区块文件genesis.json","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2019\/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%BC%80%E5%8F%912-%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97%E6%96%87%E4%BB%B6genesis.json\/"},"image":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"区块链","wordcount":2042,"url":"https:\/\/shuzang.github.io\/2019\/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%BC%80%E5%8F%912-%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97%E6%96%87%E4%BB%B6genesis.json\/","datePublished":"2019-03-07T19:48:00\x2b08:00","dateModified":"2020-11-11T00:00:00\x2b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/logo.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=top-scroll-bar></div><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=navbar-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=top-scroll-bar></div><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">以太坊开发2-创世区块文件genesis.json</h1><div class=post-meta><i class="far fa-calendar-alt fa-fw"></i>published on&nbsp;<time datetime=2019-03-07>2019-03-07</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 2042 words&nbsp;<span class=post-category><i class="far fa-folder fa-fw"></i>included in&nbsp;<a href=https://shuzang.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/>研究生的区块链学习之路</a>&nbsp;</span></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#文件说明>文件说明</a></li><li><a href=#标准示例>标准示例</a></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><a href=#文件说明>文件说明</a></li><li><a href=#标准示例>标准示例</a></li></ul></nav></div></details></div><div class=post-content><a class=post-dummy-target id=文件说明></a><h2>文件说明</h2><p>关于<code>genesis.json</code>的官方说明位于两处</p><ul><li><a href=https://github.com/ethereum/go-ethereum/wiki/Private-network target=_blank>Private network</a></li><li><a href=https://github.com/ethereum/go-ethereum/wiki/Connecting-to-the-network target=_blank>Connecting to the network</a></li></ul><p>每条区块链都以创世区块开头，而<code>genesis.json</code>正是创世区块的配置文件，它是区块链最重要的识别标志之一。实际上，每条区块链的创世区块文件都是唯一的，如果两条机器启动Geth时所选用的创世区块文件不同，就无法被识别为同一条区块链的成员。因此，同一条联盟链/私链中的所有节点必须使用同一份创世区块文件进行初始化配置。</p><a class=post-dummy-target id=标准示例></a><h2>标准示例</h2><p>一个创世区块文件<code>genesis.json</code>的标准示例如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=o>{</span>
    <span class=s2>&#34;config&#34;</span>: <span class=o>{</span>
        <span class=s2>&#34;chainId&#34;</span>: 15,
        <span class=s2>&#34;homesteadBlock&#34;</span>: 0,
        <span class=s2>&#34;eip155Block&#34;</span>: 0,
        <span class=s2>&#34;eip158Block&#34;</span>: <span class=m>0</span>
    <span class=o>}</span>,
    <span class=s2>&#34;nonce&#34;</span>: <span class=s2>&#34;0x000000000000002a&#34;</span>,
    <span class=s2>&#34;difficulty&#34;</span>: <span class=s2>&#34;0x020000&#34;</span>,
    <span class=s2>&#34;mixhash&#34;</span>: <span class=s2>&#34;0x0000000000000000000000000000000000000000000000000000000000000000&#34;</span>,
    <span class=s2>&#34;coinbase&#34;</span>: <span class=s2>&#34;0x0000000000000000000000000000000000000000&#34;</span>,
    <span class=s2>&#34;timestamp&#34;</span>: <span class=s2>&#34;0x00&#34;</span>,
    <span class=s2>&#34;parentHash&#34;</span>: <span class=s2>&#34;0x0000000000000000000000000000000000000000000000000000000000000000&#34;</span>,
    <span class=s2>&#34;extraData&#34;</span>: <span class=s2>&#34;0x&#34;</span>,
    <span class=s2>&#34;gasLimit&#34;</span>: <span class=s2>&#34;0x2fefd8&#34;</span>
    <span class=s2>&#34;alloc&#34;</span>: <span class=o>{</span>
        <span class=s2>&#34;7df9a875a174b3bc565e6424a0050ebc1b2d1d82&#34;</span>: <span class=o>{</span> <span class=s2>&#34;balance&#34;</span>: <span class=s2>&#34;300000&#34;</span> <span class=o>}</span>,
        <span class=s2>&#34;f41c74c9ae680c1aa78f42e5647a62f353b7bdde&#34;</span>: <span class=o>{</span> <span class=s2>&#34;balance&#34;</span>: <span class=s2>&#34;400000&#34;</span> <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><p>##　参数说明</p><p>关于示例文件中各参数说明如下。首先config中的内容是区块链相关的基本配置参数。</p><ul><li><code>ChainId</code> - identifies the current chain and is used for replay protection. You should set it to a unique value for your private chain.</li><li><code>homesteadBlock</code> - your chain won&rsquo;t be undergoing the switch to Homestead, so leave this as <code>0</code>.</li><li><code>eip155Block</code> - your chain won&rsquo;t be hard-forking for these changes, so leave as <code>0</code>.</li><li><code>eip158Block</code> - your chain won&rsquo;t be hard-forking for these changes, so leave as <code>0</code>.</li></ul><p>最重要的是链编号<code>ChainId</code>，用于标识区块链，关于它更详细的说明见<a href=https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md target=_blank>EIP-155</a>，Ethereum Improvement Proposals (<a href=https://github.com/ethereum/EIPs target=_blank>EIPs</a>)是以太坊改进建议，描述了以太坊平台的标准，包括核心协议规范，客户端API和智能合约标准。</p><ul><li><p><strong>mixhash</strong> - 一个 256 位的哈希证明，与 nonce 结合使用，证明已经对该块进行了足够的计算：工作量证明（PoW）。 nonce 和 mixhash 的组合必须满足黄皮书 4.3.4 Block Header Validity，(44)中描述的数学条件。它允许验证块确实已经加密地挖掘，因此，从这方面来说，它是有效的。</p></li><li><p><strong>nonce</strong> - 一个64位的哈希证明，与mixhash结合使用，证明在该块上进行了足够的计算：工作量证明（PoW）。 nonce 和 mixhash 的组合必须满足黄皮书 4.3.4 Block Header Validity，(44)中描述的数学条件。它允许验证块确实已经加密地挖掘，因此，从这方面来说，它是有效的。 nonce 是加密安全的挖掘工作证明，证明在确定该令牌值时已经花费了特定量的计算。 （黄皮书, 11.5. Mining Proof-of-Work )。</p></li><li><p><strong>difficulty</strong> -初始挖矿难度，可以根据前一个块的难度和时间戳来调整。难度越高，Miner 必须执行更多计算才能发现有效块。此值用于控制区块链的区块生成时间，将块生成频率保持在目标范围内。在测试网络上，我们将此值保持为较低的值以避免在测试期间等待，因为在区块链上执行交易需要发现有效区块。</p></li><li><p><strong>alloc</strong> - 以太坊账户信息，可以留空，等待部署完成后再启动以太坊创建账户；也可以预先配置好以太坊账户及其余额。这里的账户余额以wei为单位。</p></li><li><p><strong>coinbase</strong> - 挖矿收益账户，是一个160 位地址。它们是采矿奖励本身和合约交易执行退款的总和。通常在规范中命名为 “beneficiary”，有时在在线文档中称为 “etherbase”。可以设置为零地址，留待运行以太坊挖矿之前再设置。</p></li><li><p><strong>timestamp</strong> - 标量值等于此块开始时 <code>Unix time（）</code> 函数的合理输出。该机制在块之间的时间方面强制实施稳态。最后两个块之间的较小周期导致难度级别的增加，从而导致找到下一个有效块所需的额外计算。如果周期太大，则减少了难度和到下一个块的预期时间。时间戳还允许验证链内的块顺序（黄皮书，4.3.4。（43））。</p></li><li><p><strong>parentHash</strong> - 整个父块头的 Keccak 256 位哈希（包括其 nonce 和 mixhash）。指向父块的指针，从而有效地构建块链。创世区块中其值为0，实际上创世区块没有这个参数也可以。</p></li><li><p><strong>extraData</strong> - 可选字段，但最多 32 字节，to conserve smart things for ethernity。</p></li><li><p><strong>gasLimit</strong> - 每个区块所消耗的gas限制。自己做测试时需要设置的高一点，以避免在测试期间受到此阈值的限制。注意：这并不表示我们不应该关注合约的汽gas消耗量。</p></li></ul><p>原始的英文说明如下：</p><p><strong>mixhash</strong> A 256-bit hash which proves, combined with the <code>nonce</code>, that a sufficient amount of computation has been carried out on this block: the Proof-of-Work (PoW). The combination of <code>nonce</code>and <code>mixhash</code> must satisfy a mathematical condition described in the Yellowpaper, 4.3.4. Block Header Validity, (44). It allows to verify that the Block has really been cryptographically mined, thus, from this aspect, is valid.</p><p><strong>nonce</strong> A 64-bit hash, which proves, combined with the mix-hash, that a sufficient amount of computation has been carried out on this block: the Proof-of-Work (PoW). The combination of <code>nonce</code>and <code>mixhash</code> must satisfy a mathematical condition described in the Yellowpaper, 4.3.4. Block Header Validity, (44), and allows to verify that the Block has really been cryptographically mined and thus, from this aspect, is valid. The <code>nonce</code> is the cryptographically secure mining proof-of-work that proves beyond reasonable doubt that a particular amount of computation has been expended in the determination of this token value. (Yellowpager, 11.5. Mining Proof-of-Work).</p><p><strong>difficulty</strong> A scalar value corresponding to the difficulty level applied during the <code>nonce</code> discovering of this block. It defines the mining Target, which can be calculated from the previous block’s difficulty level and the timestamp. The higher the difficulty, the statistically more calculations a Miner must perform to discover a valid block. This value is used to control the Block generation time of a Blockchain, keeping the Block generation frequency within a target range. On the test network, we keep this value low to avoid waiting during tests, since the discovery of a valid Block is required to execute a transaction on the Blockchain.</p><p><strong>alloc</strong> Allows defining a list of pre-filled wallets. That’s an Ethereum specific functionality to handle the “Ether pre-sale” period. Since we can mine local Ether quickly, we don’t use this option.</p><p><strong>coinbase</strong> The 160-bit address to which all rewards (in Ether) collected from the successful mining of this block have been transferred. They are a sum of the mining reward itself and the Contract transaction execution refunds. Often named “beneficiary” in the specifications, sometimes “etherbase” in the online documentation. This can be anything in the Genesis Block since the value is set by the setting of the Miner when a new Block is created.</p><p><strong>timestamp</strong> A scalar value equal to the reasonable output of Unix <code>time()</code> function at this block inception. This mechanism enforces a homeostasis in terms of the time between blocks. A smaller period between the last two blocks results in an increase in the difficulty level and thus additional computation required to find the next valid block. If the period is too large, the difficulty, and expected time to the next block, is reduced. The timestamp also allows verifying the order of block within the chain (Yellowpaper, 4.3.4. (43)).</p><p><strong>parentHash</strong> The Keccak 256-bit hash of the entire parent block header (including its <code>nonce</code> and <code>mixhash</code>). Pointer to the parent block, thus effectively building the chain of blocks. In the case of the Genesis block, and only in this case, it’s <code>0</code>.</p><p><strong>extraData</strong> An optional free, but max. 32-byte long space to conserve smart things for ethernity. :)</p><p><strong>gasLimit</strong> A scalar value equal to the current chain-wide limit of Gas expenditure per block. High in our case to avoid being limited by this threshold during tests. Note: this does not indicate that we should not pay attention to the Gas consumption of our Contracts.</p></div><div class=post-copyright id=post-footer><p class=copyright-item><span>Author:&nbsp;</span>
<span>shuzang</span></p><p class=copyright-item><span>Updated on:&nbsp;</span>
<span>2020-11-11</span></p><p class=copyright-item><span>Share on:&nbsp;</span>
<span><a href="//twitter.com/share?url=https%3a%2f%2fshuzang.github.io%2f2019%2f%25E4%25BB%25A5%25E5%25A4%25AA%25E5%259D%258A%25E5%25BC%2580%25E5%258F%25912-%25E5%2588%259B%25E4%25B8%2596%25E5%258C%25BA%25E5%259D%2597%25E6%2596%2587%25E4%25BB%25B6genesis.json%2f&text=%e4%bb%a5%e5%a4%aa%e5%9d%8a%e5%bc%80%e5%8f%912-%e5%88%9b%e4%b8%96%e5%8c%ba%e5%9d%97%e6%96%87%e4%bb%b6genesis.json&via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshuzang.github.io%2f2019%2f%25E4%25BB%25A5%25E5%25A4%25AA%25E5%259D%258A%25E5%25BC%2580%25E5%258F%25912-%25E5%2588%259B%25E4%25B8%2596%25E5%258C%25BA%25E5%259D%2597%25E6%2596%2587%25E4%25BB%25B6genesis.json%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fshuzang.github.io%2f2019%2f%25E4%25BB%25A5%25E5%25A4%25AA%25E5%259D%258A%25E5%25BC%2580%25E5%258F%25912-%25E5%2588%259B%25E4%25B8%2596%25E5%258C%25BA%25E5%259D%2597%25E6%2596%2587%25E4%25BB%25B6genesis.json%2f&title=%e4%bb%a5%e5%a4%aa%e5%9d%8a%e5%bc%80%e5%8f%912-%e5%88%9b%e4%b8%96%e5%8c%ba%e5%9d%97%e6%96%87%e4%bb%b6genesis.json" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a></span></p><p class=copyright-item></p><p class=copyright-item></p></div><br><div class=post-info-more><section><span class=tag><a href=https://shuzang.github.io/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/><i class="fas fa-tag fa-fw"></i>&nbsp;区块链</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://shuzang.github.io>Home</a></span></section></div><div class=post-nav><a href=https://shuzang.github.io/2019/use-virtual-machine-builds-ethereum-private-chain/ class=prev rel=prev title=以太坊开发1-虚拟机搭建以太坊私链><i class="fas fa-angle-left fa-fw"></i>以太坊开发1-虚拟机搭建以太坊私链</a>
<a href=https://shuzang.github.io/2019/geth-client-use/ class=next rel=next title=以太坊开发3-geth客户端命令>以太坊开发3-geth客户端命令<i class="fas fa-angle-right fa-fw"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.github.io/about/ target=_blank>shuzang</a> | </span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> & <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt</a></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a>
<script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-209130979-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><link rel=stylesheet href=/css/lib/katex/katex.min.css><script src=/js/lib/katex/katex.min.js></script><script defer src=/js/lib/katex/auto-render.min.js></script><link rel=stylesheet href=/css/lib/katex/copy-tex.min.css><script defer src=/js/lib/katex/copy-tex.min.js></script><script defer src=/js/lib/katex/mhchem.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true},{left:"$",right:"$",display:false},]});});</script><script src=/js/blog.min.js></script></body></html>