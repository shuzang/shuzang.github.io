<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>EdgeChain An Edge-IoT Framework and Prototype - Shuzang's Blog</title><meta name=author content="Shuzang"><meta name=author-link content><meta name=description content="EdgeChain设计 EdgeChain的核心思想是集成一个许可区块链和内部货币系统，将边缘云资源池与每个物联网设备的账户和资源使用行为关联"><meta name=keywords content="论文笔记"><meta itemprop=name content="EdgeChain An Edge-IoT Framework and Prototype"><meta itemprop=description content="EdgeChain设计 EdgeChain的核心思想是集成一个许可区块链和内部货币系统，将边缘云资源池与每个物联网设备的账户和资源使用行为关联"><meta itemprop=datePublished content="2019-10-15T00:00:00+00:00"><meta itemprop=dateModified content="2019-10-15T00:00:00+00:00"><meta itemprop=wordCount content="3427"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="论文笔记,"><meta property="og:title" content="EdgeChain An Edge-IoT Framework and Prototype"><meta property="og:description" content="EdgeChain设计 EdgeChain的核心思想是集成一个许可区块链和内部货币系统，将边缘云资源池与每个物联网设备的账户和资源使用行为关联"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2019/edgechain-an-edge-iot-framework-and-prototype/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-15T00:00:00+00:00"><meta property="article:modified_time" content="2019-10-15T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="EdgeChain An Edge-IoT Framework and Prototype"><meta name=twitter:description content="EdgeChain设计 EdgeChain的核心思想是集成一个许可区块链和内部货币系统，将边缘云资源池与每个物联网设备的账户和资源使用行为关联"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2019/edgechain-an-edge-iot-framework-and-prototype/><link rel=prev href=https://shuzang.github.io/2019/access-control-prototype-system-implementation/><link rel=next href=https://shuzang.github.io/2019/acceleration-of-anomaly-detection-in-blockchain-using-in-gpu-cache/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"EdgeChain An Edge-IoT Framework and Prototype","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2019\/edgechain-an-edge-iot-framework-and-prototype\/"},"genre":"posts","keywords":"论文笔记","wordcount":3427,"url":"https:\/\/shuzang.github.io\/2019\/edgechain-an-edge-iot-framework-and-prototype\/","datePublished":"2019-10-15T00:00:00+00:00","dateModified":"2019-10-15T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Shuzang"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=/images/avatar.png data-alt=/images/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>EdgeChain An Edge-IoT Framework and Prototype</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=Shuzang data-alt=Shuzang class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Shuzang</span></span>
<span class=post-category>收录于 <a href=/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 研究生的区块链学习之路</a></span></div><div class=post-meta-line><span title="发布于 2019-10-15 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2019-10-15>2019-10-15</time></span>&nbsp;<span title="更新于 2019-10-15 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2019-10-15>2019-10-15</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 3427 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 7 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#edgechain设计>EdgeChain设计</a><ul><li><a href=#1-设备>1. 设备</a></li><li><a href=#2-基于信用的资源管理>2. 基于信用的资源管理</a></li><li><a href=#3-面向资源基于智能合约规范化物联网行为>3. 面向资源，基于智能合约规范化物联网行为</a></li><li><a href=#4-部署>4. 部署</a></li></ul></li><li><a href=#框架和基本模块>框架和基本模块</a></li><li><a href=#关键过程和工作流>关键过程和工作流</a><ul><li><a href=#1-设备注册>1. 设备注册</a></li><li><a href=#2-设备行为管理>2. 设备行为管理</a><ul><li><a href=#1-细节工作流>1) 细节工作流</a></li><li><a href=#2-基于定价方案的资源分配>2) 基于定价方案的资源分配</a></li><li><a href=#3-行为管理>3) 行为管理</a></li></ul></li></ul></li><li><a href=#实验与评估>实验与评估</a><ul><li><a href=#1-实验环境>1. 实验环境</a></li><li><a href=#2-区块链和合约操作开销>2. 区块链和合约操作开销</a></li><li><a href=#3-两种典型物联网应用得开销比较>3. 两种典型物联网应用得开销比较</a></li></ul></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2019-10-15，文中内容可能已过时。</div></div></div><h2 id=edgechain设计>EdgeChain设计</h2><p>EdgeChain的核心思想是集成一个许可区块链和内部货币系统，将边缘云资源池与每个物联网设备的账户和资源使用行为关联起来。基于信用的资源管理系统主要根据设备优先级、应用类型和历史行为调整设备信用，控制设备可以从边缘服务器获取多少资源，同时面向资源使用智能合约强制执行预定义规则和策略，规范物联网设备的行为。整个思路的问题空间和解决方案空间概览如下</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan2-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan2-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan2-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan2-2878154-small.gif 2x" sizes=auto data-title="EdgeChain vision: the problem space and solution space" data-alt="EdgeChain vision: the problem space and solution space" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h3 id=1-设备>1. 设备</h3><p>EdgeChain使用许可区块链（私链）换取更高的交易吞吐量和一个受控制和监管的环境，挖矿工作由边缘服务器完成，并将IoT设备分为两类：</p><ol><li>legacy devices(EdgeChain-unaware)：不需要获取资源，不需要安装区块链客户端，由IoT代理创建区块链账户代表这些设备和区块链交互</li><li>non-legacy devices(EdgeChain-aware)：安装区块链客户端，和边缘服务器交互获取资源</li></ol><h3 id=2-基于信用的资源管理>2. 基于信用的资源管理</h3><p>EdgeChain使用内部货币把边缘云资源池与IoT设备账户和资源使用行为相关联。每个设备有一个区块链账户，给予一定的初始货币作为信用积分，积分余额决定了设备获取资源的能力。边缘服务器会记录信用积分使用情况，根据一组预定义的规则分配资源，这组规则综合考虑了预定义的优先级、应用类型和历史行为。</p><h3 id=3-面向资源基于智能合约规范化物联网行为>3. 面向资源，基于智能合约规范化物联网行为</h3><p>EdgeChain根据IoT设备的资源使用与活动来监控和调节其行为，根据预定义的优先级、应用类型和历史行为，智能合约可以自动执行相关资源分配策略。有助于抵御内部攻击，快速识别、控制恶意节点，并且可以采用进一步的行为如黑名单阻止设备的进一步操作。</p><h3 id=4-部署>4. 部署</h3><p>EdgeChain可以两种模式部署，独立模式如smart home，以及分布式模式如smart campus和smart city。以下是smart home的一个例子，这样独立部署的一个模块可以称作一个box，多个独立部署的box合作就可以构成一个分布式部署的场景。</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan3-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan3-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan3-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan3-2878154-small.gif 2x" sizes=auto data-title="standalone EdgeChain box deployment in smart home" data-alt="standalone EdgeChain box deployment in smart home" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><blockquote><p>基于边缘服务器和货币系统的资源管理方案暂且不考虑，目前有借鉴作用的是对物联网行为规范化的处理，基于智能合约预定义策略，同时考虑利用货币系统定义的信用积分，用来做恶意行为检测，提升区块链安全性。</p><p>设备分类在架构设计时是应考虑的，考虑作为安装客户端的轻节点还是由网关代理与区块链交互，但在具体的场景中，比如对摄像头或传感器进行管理，是固定的，一般不需要分类。看最后定什么样的场景再决定吧。</p></blockquote><h2 id=框架和基本模块>框架和基本模块</h2><p>总体架构如下图所示，分为IoT代理、智能合约接口、智能合约、区块链服务器和应用接口五个功能模块</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan4-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan4-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan4-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan4-2878154-small.gif 2x" sizes=auto data-title="EdgeChain framwork and functional modules" data-alt="EdgeChain framwork and functional modules" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><ol><li><p><strong>IoT代理</strong>：主要功能是监听和嗅探legacy device的活动，为设备创建区块链账户，协助它们与区块链和智能合约交互。注册方式与non-legacy device相同，因此行为规范化的策略也适用它们，除了不能自己直接和区块链交互，和non-legacy device没什么不同。</p></li><li><p><strong>智能合约接口</strong>：当物联网活动发生时会触发智能合约并执行相关的管理策略，主要由web3协议完成。物联网活动包括注册、设备通信、资源请求、数据发送等。</p></li><li><p><strong>智能合约</strong>：包括两部分，一是数字货币系统，用来定义设备信任基本并决定资源分配；二是策略管理模块，分析设备行为并进行判决，以及根据货币系统的信用定义分配调度资源。</p></li><li><p><strong>区块链服务器</strong>：运行共识维持区块链以及运行智能合约完成预定义策略</p></li><li><p><strong>应用接口</strong>：连接区块链服务器和边缘云服务器，设备与区块链的交互有两种结果，1）账户余额有限或存在恶意行为，请求被拒绝；2）请求通过，移交边缘服务器分配相应资源。一旦确认有足够的资源，边缘服务器即和资源分配的合约交互，进行资源分配，分配完成后，物联网设备直接和边缘服务器上的应用交互。</p></li></ol><p>这里提到的资源包括计算能力、内存、存储、网络等，由于不同程序的要求不同，这些资源以虚拟机为单位提供。</p><blockquote><p>特别的结构是IoT代理和应用接口，当设备类型确定时，代理的工作由网络直接完成，可以取消这一部分，应用接口主要与资源分配有关，也可以略过。最重要的其实还是定义设备信用的货币系统和策略管理两部分合约的算法，对我们是有用的。</p></blockquote><h2 id=关键过程和工作流>关键过程和工作流</h2><p>区块链部署和合约部署流程略过，这里只介绍设备注册过程和设备行为管理。</p><h3 id=1-设备注册>1. 设备注册</h3><p>注册起始于判断设备类型，对legacy设备，IoT代理会为每个设备创建账户并在注册合约中注册，non-legacy设备可以通过安装的客户端直接与区块链交互。</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan7-2878154-large.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan7-2878154-large.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan7-2878154-large.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan7-2878154-large.gif 2x" sizes=auto data-title="Devices registration workflow" data-alt="Devices registration workflow" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>注册信息的内容主要根据制造商使用说明定义，主要包括输入/输出数据类型、边缘资源请求、mac地址、ip地址、网络端口、通信协议和指示标志。此外，每个设备都有一个唯一的区块链账户地址。注册后，边缘服务器验证上述信息，并添加更多的参数如优先级，账户余额，信用和请求时间戳等用于设备管理。具体定义在数据库的字段如下图所示</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan.t2-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan.t2-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan.t2-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan.t2-2878154-small.gif 2x" sizes=auto data-title="Registered Device Attributes" data-alt="Registered Device Attributes" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h3 id=2-设备行为管理>2. 设备行为管理</h3><p>这一部分是EdgeChain的核心功能，分为三部分解释：细节工作流，边缘资源分配算法和行为管理方案</p><h4 id=1-细节工作流>1) 细节工作流</h4><p>当接收到来自物联网设备的活动或请求时，根据设备类型进行不同的处理，具体细节如下</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan8-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan8-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan8-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan8-2878154-small.gif 2x" sizes=auto data-title="IoT activities management workflow" data-alt="IoT activities management workflow" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h4 id=2-基于定价方案的资源分配>2) 基于定价方案的资源分配</h4><p>资源分配的优化目标是最大化用户请求的接受率，分配的算法不作详细了解因为不会用到。</p><h4 id=3-行为管理>3) 行为管理</h4><p>旨在检测潜在的恶意活动或请求，并采取措施避免进一步的损失。使用一个信用体系进行行为管理，该信用系统与同类方案的不同是信用影响边缘服务器资源分配而不是设备间的协作，但信用与资源定价策略没有直接关系，这种影响是通过奖励或惩罚措施完成的。考虑的行为主要包括：</p><ol><li>Resource Requests：设备请求的资源量说明设备是否正常工作，过度的资源需求可能表示异常行为和恶意活动</li><li>Price Threshold：假设每个设备只运行一种应用并发送一种资源请求，为此设备设定特定的价格阈值，当请求的价格超过该阈值，请求可以被视为恶意行为，并降低设备信用</li><li>Request Frequency：设备以过高频率发送请求，可能是恶意行为</li><li>Network Port：设备应以预定义的端口号通信</li><li>Data Traffic Destination：设备的通信目标一般是固定的，当目标改变时可能是被恶意控制了</li></ol><p>系统会比较设备请求和正常的行为，发现异常则降低信用，每个新注册的设备拥有相同的初始信用，信用降到0的时候设备将无法再进行任何活动，基于信用的变动，返回的代币计算公式如下，其中η是改变的影响因子：
$$
\begin{equation*}
Coins_{return}=Coins_{charged}+\Delta Credit*\eta
\end{equation*}
$$</p><blockquote><p>恶意行为的定义比较重要，但这里五种行为并不都符合我们的需求，需要以此为思路继续考虑</p></blockquote><h2 id=实验与评估>实验与评估</h2><p>设计了一个实验证明了关键的功能在可接受的性能开销下是可行的。</p><h3 id=1-实验环境>1. 实验环境</h3><p>实验包括后端边缘云集群，前端物联网设备、代理和接入点。边缘云集群通过OpenStack部署管理，包括五台高性能服务器，一台交换机。前端由一台树莓派3B（附带摄像头，sense hat，麦克风和Google bonnet），一套Google AIY voice kit，一套Google AIY vision kit，和一台laptop组成。一台桌面计算机作为IoT Proxy，一台路由器。如下图所示</p><p><img loading=lazy src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan9-2878154-small.gif srcset="https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan9-2878154-small.gif, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan9-2878154-small.gif 1.5x, https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/6488907/8738925/8510796/pan9-2878154-small.gif 2x" sizes=auto data-title="EdgeChain testbed" data-alt="EdgeChain testbed" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>边缘服务器使用CentOS7，使用以太坊区块链，Solidity为合约编程语言，Truffle为合约部署攻击，node.js为物联网和区块链的交互界面。树莓派使用Raspbian系统，并安装了Go-ethereum客户端。laptop系统是MacOS，desktop系统为Ubuntu16。</p><p>实验中边缘服务器提供云资源，同时作为区块链全节点，树莓派和laptop作为区块链客户端将资源请求发送给边缘服务器，作为亲节点。desktop作为设备代理和区块链交互。</p><h3 id=2-区块链和合约操作开销>2. 区块链和合约操作开销</h3><p>指区块链挖矿和智能合约的交互两类开销，主要针对设备注册和资源分配两个功能来分析，开销主要来自于三个方面：计算、通信和存储</p><p>设备挖矿的开销不关注了，考虑区块同步的延迟，边缘服务器同步新块的平均时间为4.09ms，物联网设备为35.9ms。区块平均大小为128.78KB，每个块最多存储208个设备注册信息，统计得1000台设备注册平均生成1.8MB区块链数据。</p><blockquote><p>同步延迟受网络影响较大，网络出问题几百ms都可能，很难估计。</p></blockquote><p>对于合约交互，常规交易对CPU得占用比较低，但对内存占用较高，即使空闲时间，区块链客户端也占8%。合约得交互延迟一般小于50ms，满足实时应用得需求。</p><h3 id=3-两种典型物联网应用得开销比较>3. 两种典型物联网应用得开销比较</h3><p>作者考虑得主要是边缘计算场景，因此找到例子是人脸识别和自然语言处理。树莓派连接的摄像头和麦克风正是用于这两种场景实验。</p><p>定价方案的资源管理性能不关注</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2019-10-15 00:00:00">更新于 2019-10-15&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2019/edgechain-an-edge-iot-framework-and-prototype/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2019/edgechain-an-edge-iot-framework-and-prototype/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2019/edgechain-an-edge-iot-framework-and-prototype/ data-title="EdgeChain An Edge-IoT Framework and Prototype"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/ class=post-tag>论文笔记</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2019/access-control-prototype-system-implementation/ class=post-nav-item rel=prev title=研究记录7-原始论文复现><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>研究记录7-原始论文复现</a>
<a href=/2019/acceleration-of-anomaly-detection-in-blockchain-using-in-gpu-cache/ class=post-nav-item rel=next title="Acceleration of Anomaly Detection in Blockchain Using In-GPU Cache">Acceleration of Anomaly Detection in Blockchain Using In-GPU Cache<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=/images/alipay.png srcset="/images/alipay.png, /images/alipay.png 1.5x, /images/alipay.png 2x" sizes=auto data-title="Shuzang 支付宝" data-alt="Shuzang 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=/images/wechatpay.png srcset="/images/wechatpay.png, /images/wechatpay.png 1.5x, /images/wechatpay.png 2x" sizes=auto data-title="Shuzang 微信" data-alt="Shuzang 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">Hava a great day !</div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=/>Shuzang</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/twemoji/twemoji.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>