<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>hugo搭建个人博客1-基础建站 - Shuzang's Blog</title><meta name=author content><meta name=author-link content><meta name=description content="Hugo 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之"><meta name=keywords content="博客搭建"><meta itemprop=name content="hugo搭建个人博客1-基础建站"><meta itemprop=description content="Hugo 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之"><meta itemprop=datePublished content="2019-04-26T10:45:00+08:00"><meta itemprop=dateModified content="2020-10-31T00:00:00+00:00"><meta itemprop=wordCount content="5679"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="博客搭建,"><meta property="og:title" content="hugo搭建个人博客1-基础建站"><meta property="og:description" content="Hugo 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2019/hugo-blog-build-personal-blog/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-26T10:45:00+08:00"><meta property="article:modified_time" content="2020-10-31T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="hugo搭建个人博客1-基础建站"><meta name=twitter:description content="Hugo 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2019/hugo-blog-build-personal-blog/><link rel=prev href=https://shuzang.github.io/2019/%E7%94%9F%E5%91%BD%E6%B8%85%E5%8D%95/><link rel=next href=https://shuzang.github.io/2019/blockchain-paradigm-and-internet-of-things/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css></noscript><link rel=preload href=https://unpkg.com/animate.css@4.1.1/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"hugo搭建个人博客1-基础建站","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2019\/hugo-blog-build-personal-blog\/"},"genre":"posts","keywords":"博客搭建","wordcount":5679,"url":"https:\/\/shuzang.github.io\/2019\/hugo-blog-build-personal-blog\/","datePublished":"2019-04-26T10:45:00+08:00","dateModified":"2020-10-31T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"作者"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-alt=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>hugo搭建个人博客1-基础建站</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i></span></span>
<span class=post-category>收录于 <a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 爱编程爱技术的孩子</a></span></div><div class=post-meta-line><span title="发布于 2019-04-26 10:45:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2019-04-26>2019-04-26</time></span>&nbsp;<span title="更新于 2020-10-31 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2020-10-31>2020-10-31</time></span>&nbsp;<span title="5679 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 5700 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 12 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-安装hugo>1. 安装Hugo</a></li><li><a href=#2-生成博客网站>2. 生成博客网站</a></li><li><a href=#3-托管到github>3. 托管到Github</a><ul><li><a href=#31-源码备份>3.1 源码备份</a></li><li><a href=#32-推送到master分支>3.2 推送到master分支</a></li></ul></li><li><a href=#4-安装主题>4. 安装主题</a></li><li><a href=#5-网站配置>5. 网站配置</a><ul><li><a href=#51-基础配置>5.1 基础配置</a></li><li><a href=#52-头像>5.2 头像</a></li><li><a href=#53-首页社交链接>5.3 首页社交链接</a></li><li><a href=#54-网站基本资料>5.4 网站基本资料</a></li><li><a href=#55-网站图标>5.5 网站图标</a></li></ul></li><li><a href=#5-文章发布>5. 文章发布</a></li><li><a href=#6-主题迁移>6. 主题迁移</a></li><li><a href=#附录i-github-action>附录I Github Action</a></li><li><a href=#附录ii-使用travis-ci>附录II 使用Travis CI</a><ul><li><a href=#步骤1-申请token>步骤1 申请Token</a></li><li><a href=#步骤2-设置travis-ci>步骤2 设置Travis CI</a></li><li><a href=#步骤3-编写配置文件>步骤3 编写配置文件</a></li><li><a href=#步骤4-使用说明>步骤4 使用说明</a></li></ul></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2020-10-31，文中内容可能已过时。</div></div></div><p><a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer">Hugo</a> 是由 Go 语言实现的静态网站生成器，可以快速建立一个静态网站，虽然多数情况下用来搭建个人博客，但也可以用作展示在线书籍、个人简历等。在使用 Hugo 之前，我一直使用 Hexo 搭建个人博客，促使我更换工具的原因主要有两个</p><ol><li>文章数量较多时，Hexo 生成速度非常慢，同样的文章数量下，Hugo 渲染文章几乎是即时的；</li><li>Hexo 依赖于 Node.js，使用需要在电脑里安装 node 和 npm。另外，Hexo 允许开发者提供各种 npm 模块来增强其功能，这种做法虽然使 Hexo 扩展性极高，但在博客的维护、备份和恢复等方面都带来了极大的不便。Hugo 使用 Go 开发，不依赖任何其它模块，只需要按照 Hugo 这一个软件即可。</li></ol><p>综上，我选择将博客网站迁移到 Hugo，这个系列的文章用来记录 Hugo 使用种遇到的问题和积累的经验。本文是第一篇，介绍博客网站搭建的过程和一些基础配置。</p><h2 id=1-安装hugo>1. 安装Hugo</h2><p>详细的安装说明参见<a href=https://gohugo.io/getting-started/quick-start/ target=_blank rel="external nofollow noopener noreferrer">官方文档</a>，这里简单介绍 win10 和 Ubuntu18.04 的快速安装。</p><p>win10下可自行从官网下载软件包安装，也可以使用 <a href=https://chocolatey.org/ target=_blank rel="external nofollow noopener noreferrer">chocolatey</a> 包管理工具快速安装</p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 更新chocolatey到最新</span>
</span></span><span class=line><span class=cl>&gt; choco upgrade chocolatey
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装hugo-extended，因为将要使用的主题使用scss</span>
</span></span><span class=line><span class=cl>&gt; choco install hugo-extended -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查安装</span>
</span></span><span class=line><span class=cl>&gt; choco list --local
</span></span><span class=line><span class=cl>chocolatey 0.10.15
</span></span><span class=line><span class=cl>hugo-extended 0.58.3
</span></span><span class=line><span class=cl><span class=m>2</span> packages installed.</span></span></code></pre></td></tr></table></div></div><p>Ubuntu下使用 apt-get 会安装低版本 Hugo，因此使用 snap 安装</p><div class=highlight id=id-2><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ snap install hugo --channel<span class=o>=</span>extended
</span></span><span class=line><span class=cl>hugo <span class=o>(</span>extended/stable<span class=o>)</span> 0.58.3 from Hugo Authors installed</span></span></code></pre></td></tr></table></div></div><p>注意要安装 extended 版本，主要是因为很多主题都需要扩展版的功能，如果确认自己的主题不需要(阅读主题说明)，可以按照正常的版本。</p><h2 id=2-生成博客网站>2. 生成博客网站</h2><p>执行下面的命令在本地生成博客网站项目文件夹，该文件夹是这一系列文章之后所有操作执行的根目录(简称为项目根目录)，我建立的项目文件夹名为 shuzang.github.io （因为之后要使用 <a href=https://pages.github.com/ target=_blank rel="external nofollow noopener noreferrer">Github Pages</a> 托管博客）。</p><div class=highlight id=id-3><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ hugo new site shuzang.github.io
</span></span><span class=line><span class=cl>$ <span class=nb>cd</span> shuzang.github.io</span></span></code></pre></td></tr></table></div></div><p>blog 文件夹的目录结构如下所示，其中各文件夹的作用我们将在之后的使用过程中逐步了解</p><div class=highlight id=id-4><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ls
</span></span><span class=line><span class=cl>archetypes/  config.toml  content/  data/  layouts/  static/  themes/</span></span></code></pre></td></tr></table></div></div><h2 id=3-托管到github>3. 托管到Github</h2><p>将本地的项目文件夹初始化为 Github 仓库</p><div class=highlight id=id-5><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=err>$</span> <span class=nx>git</span> <span class=nx>init</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=nx>git</span> <span class=nx>add</span> <span class=p>.</span>
</span></span><span class=line><span class=cl><span class=err>$</span> <span class=nx>git</span> <span class=nx>commit</span> <span class=o>-</span><span class=nx>m</span> <span class=s>&#34;Initial commit&#34;</span></span></span></code></pre></td></tr></table></div></div><p>浏览器打开 Github 网站，创建和项目文件夹同名的仓库，该仓库用于存储项目文件夹下所有内容。创建完成后，在本地项目根目录，执行下列命令，将项目文件推送到远程仓库。</p><div class=highlight id=id-6><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git remote add origin https://github.com/shuzang/shuzang.github.io.git
</span></span><span class=line><span class=cl>$ git push -u origin master</span></span></code></pre></td></tr></table></div></div><p>关于网页如何托管在Github的详细说明可以参考<a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/ target=_blank rel="external nofollow noopener noreferrer">Host on Github</a></p><h3 id=31-源码备份>3.1 源码备份</h3><p>按照 Hugo 的生成规则，执行 <code>hugo</code> 命令后，网站静态文件将会生成在 <code>public</code> 文件夹。但由于我们使用 Github Pages 托管博客网站，该功能启用后 Github 仓库只会从 <code>master branch</code> 或 <code>master branch /docs folder</code> 读取网站源码。</p><p>我们解决这一问题的方法是新建 <code>blog</code> 分支将博客源码放在该分支下，利用 Github Action 将 <code>public</code> 目录下的网站文件推送到 <code>master</code> 分支。首先在本地项目根目录下执行下列命令新建并切换到 <code>blog</code> 分支</p><p>注：Github Action 的说明见附录I</p><div class=highlight id=id-7><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git checkout -b blog
</span></span><span class=line><span class=cl>$ git branch
</span></span><span class=line><span class=cl>* blog
</span></span><span class=line><span class=cl>  master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 设置本地blog分支追踪远程blog分支</span>
</span></span><span class=line><span class=cl>$ git branch --set-upstream blog origin/blog
</span></span><span class=line><span class=cl><span class=c1># 查看分支跟踪关系</span>
</span></span><span class=line><span class=cl>$ git branch -vv
</span></span><span class=line><span class=cl>* blog   c63526c <span class=o>[</span>origin/blog<span class=o>]</span> Update posts</span></span></code></pre></td></tr></table></div></div><p>将本地 <code>blog</code> 分支的内容推送到远程仓库后，在网页端进入<code>shuzang.github.io</code>仓库的设置页面，将默认分支设置为 <code>blog</code> 分支。</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HePXR.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HePXR.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HePXR.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HePXR.png?size=large 2x" sizes=auto data-title=设置默认分支 data-alt=设置默认分支 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h3 id=32-推送到master分支>3.2 推送到master分支</h3><p>首先生成公私钥供 Github Action 使用</p><div class=highlight id=id-8><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t rsa -b <span class=m>4096</span> -C <span class=s2>&#34;</span><span class=k>$(</span>git config user.email<span class=k>)</span><span class=s2>&#34;</span> -f blog -N <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># You will get 2 files in current file:</span>
</span></span><span class=line><span class=cl><span class=c1>#   blog.pub (public key)</span>
</span></span><span class=line><span class=cl><span class=c1>#   blog     (private key)</span></span></span></code></pre></td></tr></table></div></div><p>然后进入 <code>shuzang.github.io</code> 仓库设置页面，在 <code>Deploy Keys</code> 中添加公钥，在 <code>Secrets</code> 中添加私钥，私钥名设置为 <code>ACTIONS_DEPLOY_KEY</code></p><p>接着新建 YAML 配置文件，Github Action 要求配置文件位于 <code>.github/workflows</code> 目录下，新建完成后目录结构如下</p><div class=highlight id=id-9><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ls ./.github/workflows
</span></span><span class=line><span class=cl>main.yml</span></span></code></pre></td></tr></table></div></div><p>Github Action使用一种模块化的思路，即将很多持续集成的操作写成独立的脚本文件，放到代码仓库，让其它开发者使用。因此进行持续集成时，可以直接引用别人写好的 action，整个持续集成的过程，就是一个 actions 组合的过程。GitHub 做了一个<a href="https://github.com/marketplace?type=actions" target=_blank rel="external nofollow noopener noreferrer">官方市场</a>，可以搜索到他人提交的 actions。另外，还有一个 <a href=https://github.com/sdras/awesome-actions target=_blank rel="external nofollow noopener noreferrer">awesome actions</a> 的仓库，也可以找到不少 action。</p><p>我们的基本思路如下</p><ol><li>整个流程在 blog 分支 push 时触发</li><li>只有一个job，运行在ubuntu-18.04环境下</li><li>使用 <a href=https://github.com/actions/checkout target=_blank rel="external nofollow noopener noreferrer">official action: checkout</a> 获取仓库源码，注意添加参数clone主题子模块</li><li>使用 <a href=https://github.com/peaceiris/actions-hugo target=_blank rel="external nofollow noopener noreferrer">peaceiris/actions-hugo: GitHub Actions for Hugo</a> 部署 hugo 环境，注意使用 <code>extentded</code> 版本（主题要求）</li><li>直接执行 hugo 命令</li><li>使用 <a href=https://github.com/peaceiris/actions-gh-pages target=_blank rel="external nofollow noopener noreferrer">peaceiris/actions-gh-pages</a> 将当前分支<code>public</code>目录下的内容部署到master分支，</li></ol><p>完整的<code>main.yml</code>脚本内容如下</p><div class=highlight id=id-10><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hugo push to github pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-18.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0.59.1&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ACTIONS_DEPLOY_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span></span></span></code></pre></td></tr></table></div></div><p>保存上面的文件后，将本地仓库推送到远程，Github 检测到 <code>.github/workflow</code> 目录和里面的<code>main.yml</code> 文件，就会自动运行，在网页端可以查看运行日志，如果出现错误可以根据日志内容就行修改。</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HeehD.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HeehD.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HeehD.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HeehD.png?size=large 2x" sizes=auto data-title="Github Action 日志文件" data-alt="Github Action 日志文件" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>等到workflow运行结束，访问博客页面，就可以看到更新成功了。切换到master分支，也可以看到推送的网页文件，不过因为设置了默认分支为 blog，以后打开网页端该仓库，以及在本地 clone的时候，默认都是 blog 分支。</p><p>注：Github Action 在2020年开始正式使用，之前一直使用 Travis CI，配置步骤见 附录II</p><h2 id=4-安装主题>4. 安装主题</h2><p>Hugo没有默认主题，需要自己从官方的<a href=https://themes.gohugo.io/ target=_blank rel="external nofollow noopener noreferrer">主题列表</a>下载安装。总体来看，Hugo 主题的数量和质量可能都不如 Hexo，比如 Next 这种主题已经形成了庞大的开发社区，有大量的人在使用和维护，Hugo 中就没有这种影响力很大的主题了，但 Hugo 的主题的创意都非常棒。</p><p><a href=https://github.com/Fastbyte01/KeepIt target=_blank rel="external nofollow noopener noreferrer">KeepIt</a> 是其中一个较为简单优雅的主题，基于 <a href=https://raw.githubusercontent.com/liuzc/LeaveIt/ target=_blank rel="external nofollow noopener noreferrer">LeaveIt</a> 主题二次开发而成，遵循「Less is more」的原则，是我最喜欢的主题。因为主题通常是单独的 Github 仓库，因此将其作为博客项目的子模块进行管理。</p><div class=highlight id=id-11><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 将主题项目作为子模块添加</span>
</span></span><span class=line><span class=cl>$ git submodule add https://github.com/Fastbyte01/KeepIt.git themes/KeepIt
</span></span><span class=line><span class=cl><span class=c1># 查看子模块信息</span>
</span></span><span class=line><span class=cl>$ git submodule
</span></span><span class=line><span class=cl> 87c33888f3fa86b8cc096bc3f6d7f2efe9ccba66 themes/KeepIt <span class=o>(</span>v4-53-g87c3388<span class=o>)</span></span></span></code></pre></td></tr></table></div></div><p>复制主题提供的站点配置文件 <code>config.toml</code> 到项目根目录，覆盖 Hugo 本身的站点配置文件（第一次使用可以将exampleSite目录下的内容全部复制过来）</p><div class=highlight id=id-12><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cp themes/KeepIt/exampleSite/. .</span></span></code></pre></td></tr></table></div></div><p>运行<code>hugo server</code>命令，在浏览器键入网址 <a href=http://localhost:1313 target=_blank rel="external nofollow noopener noreferrer">http://localhost:1313</a> 预览主题效果（首页图片未加载是因为还没有放置头像文件）</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1Hpbad.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1Hpbad.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1Hpbad.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1Hpbad.png?size=large 2x" sizes=auto data-title="KeepIt theme preview" data-alt="KeepIt theme preview" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h2 id=5-网站配置>5. 网站配置</h2><p>正式使用前，我们需要编辑站点配置文件从而设置网站的一些内容，通常配置文件或主题文档会进行详细的说明，当前我们对 <code>config.toml</code> 文件做如下配置</p><h3 id=51-基础配置>5.1 基础配置</h3><div class=highlight id=id-13><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>baseURL</span> <span class=p>=</span> <span class=s2>&#34;https://shuzang.github.io&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>languageCode</span> <span class=p>=</span> <span class=s2>&#34;en&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>defaultContentLanguage</span> <span class=p>=</span> <span class=s2>&#34;en&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Shuzang&#39;s blog&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;KeepIt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>paginate</span> <span class=p>=</span> <span class=mi>12</span>
</span></span><span class=line><span class=cl><span class=nx>enableEmoji</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>enableRobotsTXT</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>googleAnalytics</span> <span class=p>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>disqusShortname</span> <span class=p>=</span> <span class=s2>&#34;yourdiscussshortname&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>sitemap</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>changefreq</span> <span class=p>=</span> <span class=s2>&#34;monthly&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>filename</span> <span class=p>=</span> <span class=s2>&#34;sitemap.xml&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>priority</span> <span class=p>=</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>blackfriday</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>hrefTargetBlank</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>nofollowLinks</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>noreferrerLinks</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>Permalinks</span><span class=p>]</span>
</span></span><span class=line><span class=cl> <span class=nx>posts</span> <span class=p>=</span> <span class=s2>&#34;/:year/:filename/&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>menu</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Blog&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/posts/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Categories&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/categories/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;About&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>4</span></span></span></code></pre></td></tr></table></div></div><h3 id=52-头像>5.2 头像</h3><p>新建<code>static/images</code>文件夹，将头像文件存放在这里</p><div class=highlight id=id-14><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mkdir static/images
</span></span><span class=line><span class=cl><span class=c1># 复制头像文件到images文件夹,复制完成后目录结构如下</span>
</span></span><span class=line><span class=cl>$ ls staitc -lR
</span></span><span class=line><span class=cl>static:
</span></span><span class=line><span class=cl>total <span class=m>0</span>
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书藏 <span class=m>197610</span> <span class=m>0</span> 11月 <span class=m>17</span> 14:41 images/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>static/images:
</span></span><span class=line><span class=cl>total <span class=m>88</span>
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> 书藏 <span class=m>197610</span> <span class=m>87641</span> 9月  <span class=m>28</span> 18:21 avatar.png</span></span></code></pre></td></tr></table></div></div><p>修改站点配置文件<code>params</code>部分的<code>avatar</code>字段值</p><div class=highlight id=id-15><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>	<span class=nx>avatar</span> <span class=p>=</span> <span class=s2>&#34;images/avatar.png&#34;</span> <span class=c>#comment it to use gravatar</span></span></span></code></pre></td></tr></table></div></div><p>也可以使用自己图床中的头像图片链接，或者如果有gravatar头像，可以在配置文件中寻找相关字段填写账号。</p><h3 id=53-首页社交链接>5.3 首页社交链接</h3><p>修改站点配置文件中<code>params.social</code>部分的内容，需要的社交链接取消注释即可启用，比如我只启用了Github和Email，Github只需要填用户名，完整的URL在主题源码中自动生成。</p><div class=highlight id=id-16><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>social</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>GitHub</span> <span class=p>=</span> <span class=s2>&#34;/shuzang&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Email</span>   <span class=p>=</span> <span class=s2>&#34;xxxxx@qq.com&#34;</span></span></span></code></pre></td></tr></table></div></div><h3 id=54-网站基本资料>5.4 网站基本资料</h3><p>编辑站点配置文件的以下内容</p><div class=highlight id=id-17><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#39;s blog&#34;</span>  <span class=c># 网站标题</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>since</span> <span class=p>=</span> <span class=mi>2018</span>                     <span class=c># 站点建立时间</span>
</span></span><span class=line><span class=cl>    <span class=nx>author</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#34;</span>               <span class=c># 作者名</span>
</span></span><span class=line><span class=cl>    <span class=nx>subtitle</span> <span class=p>=</span> <span class=s2>&#34;世界钟爱热爱生活的人&#34;</span>       <span class=c># 子标题</span>
</span></span><span class=line><span class=cl>    <span class=nx>home_mode</span> <span class=p>=</span> <span class=s2>&#34;&#34;</span> <span class=c># post or other      # post模式会在主页面显示文章</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;shuzang的个人博客&#34;</span> <span class=c># 网站描述</span>
</span></span><span class=line><span class=cl>    <span class=nx>keywords</span> <span class=p>=</span> <span class=s2>&#34;blog, Golang, Hugo, blockchain &#34;</span> <span class=c># 网站关键词</span></span></span></code></pre></td></tr></table></div></div><h3 id=55-网站图标>5.5 网站图标</h3><p>使用 <a href="https://www.google.com/search?q=favicon+generator" target=_blank rel="external nofollow noopener noreferrer">favicon generator</a> 生成配套的网站图标，放到 <code>/static</code> 目录下，可以设置网站在各平台的显示图标，包括如下内容</p><ul><li>android-chrome-192x192.png</li><li>android-chrome-512x512.png</li><li>apple-touch-icon.png</li><li>browserconfig.xml</li><li>cover.png</li><li>favicon.ico</li><li>favicon-16x16.png</li><li>favicon-32x32.png</li><li>logo.png</li><li>mstile-150x150.png</li><li>safari-pinned-tab.svg</li><li>site.webmanifest</li></ul><p>然后修改站点配置文件中以下内容</p><div class=highlight id=id-18><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>author</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>publisher</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>publisher</span><span class=p>.</span><span class=nx>logo</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;logo.png&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nx>width</span> <span class=p>=</span> <span class=mi>127</span>
</span></span><span class=line><span class=cl>      <span class=nx>height</span> <span class=p>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>logo</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;logo.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>width</span> <span class=p>=</span> <span class=mi>127</span>
</span></span><span class=line><span class=cl>    <span class=nx>height</span> <span class=p>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>image</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;cover.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>width</span> <span class=p>=</span> <span class=mi>800</span>
</span></span><span class=line><span class=cl>    <span class=nx>height</span> <span class=p>=</span> <span class=mi>600</span></span></span></code></pre></td></tr></table></div></div><p>更多配置可以参考<a href=https://github.com/Mogeko/Blog target=_blank rel="external nofollow noopener noreferrer">Mogeko的个人博客</a></p><p>以上所有配置完成后，博客网站首页如下</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HCWjK.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HCWjK.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HCWjK.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HCWjK.png?size=large 2x" sizes=auto data-title="configuration finished" data-alt="configuration finished" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h2 id=5-文章发布>5. 文章发布</h2><p>在content目录下创建 <code>posts</code>文件夹，写作的文章全部放到该目录下，在每篇文章开头添加元数据字段，可以是YAML或TOML格式，示例如下</p><div class=highlight id=id-19><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Getting Started with Hugo&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>type</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;posts&#34;</span><span class=p>,</span><span class=s2>&#34;post&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>tags</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;go&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;golang&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;hugo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;development&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>date</span> <span class=p>=</span> <span class=s2>&#34;2014-04-02&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>categories</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Development&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;golang&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>series</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;Hugo 101&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span> <span class=nx>author</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Hugo Authors&#34;</span></span></span></code></pre></td></tr></table></div></div><p>下面是一篇示例文章</p><div class=highlight id=id-20><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: Markdown说明
</span></span><span class=line><span class=cl>date: 2020-04-05
</span></span><span class=line><span class=cl>tags: [&#34;Markdown&#34;]
</span></span><span class=line><span class=cl>categories: [&#34;爱编程爱技术的孩子&#34;]
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Markdown由Aaron Swartz和John Gruber共同设计
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>-</span> Aaron Swartz的博客：[http://www.aaronsw.com/](http://www.aaronsw.com/)
</span></span><span class=line><span class=cl><span class=k>-</span> John Gruber的博客： [<span class=nt>https://daringfireball.net/ </span>](<span class=na>https://daringfireball.net/ </span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>作者中的Aaron Swartz是天才程序员，著名社交网站[Reddit](http://www.reddit.com/)的联合创始人，14岁参与RSS 1.0规格标准的制订，致力于网络信息开放。在2011年7月19日，因被指控从MIT和JSTOR下载480万篇学术论文并以免费形式上传于网络被捕，2013年1月自杀身亡，年仅26岁。  </span></span></code></pre></td></tr></table></div></div><p>文章保持后将仓库新增内容推送到远程，几分钟后即可在 <a href=https://shuzang.github.io target=_blank rel="external nofollow noopener noreferrer">https://shuzang.github.io</a> 看的这篇文章</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_%E7%A4%BA%E4%BE%8B%E6%96%87%E7%AB%A0.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_%E7%A4%BA%E4%BE%8B%E6%96%87%E7%AB%A0.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_%E7%A4%BA%E4%BE%8B%E6%96%87%E7%AB%A0.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_%E7%A4%BA%E4%BE%8B%E6%96%87%E7%AB%A0.png?size=large 2x" sizes=auto data-title=示例文章 data-alt=示例文章 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h2 id=6-主题迁移>6. 主题迁移</h2><p>随着使用时间的增加，逐渐意识到某些功能的必不可少，比如目录、数学公式支持等。KeepIt 主题已经停止了更新，好在在KeepIt的基础上重构设计的 <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreferrer">LoveIt</a> 主题，解决了大部分我关心的问题。这里借此介绍如何更换主题。</p><p>首先删除原来的主题子模块</p><div class=highlight id=id-21><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule deinit themes/LoveIt
</span></span><span class=line><span class=cl>$ git rm themes/LoveIt</span></span></code></pre></td></tr></table></div></div><p>然后添加新的主题作为子模块并重新配置 <code>config.toml</code> 文件</p><div class=highlight id=id-22><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt</span></span></code></pre></td></tr></table></div></div><p>具体的配置可以参考主题文档，一个参考配置如下</p><div class=highlight id=id-23><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Shuzang&#39;s Blog&#34;</span>                <span class=c># 设置网站标题</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;LoveIt&#34;</span>                        <span class=c># 设置主题为LoveIt</span>
</span></span><span class=line><span class=cl><span class=nx>hasCJKLanguage</span> <span class=p>=</span> <span class=kc>true</span>                   <span class=c># 启用对中文统计的支持，不启用字数统计会出问题</span>
</span></span><span class=line><span class=cl><span class=nx>paginate</span> <span class=p>=</span> <span class=mi>10</span>                           <span class=c># 每页的文章数量设置为10，便于根据页数快速计算总文章数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 作者名设置</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>author</span><span class=p>]</span>                                            
</span></span><span class=line><span class=cl>  <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#34;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c># 菜单栏新添life页面并调整顺序</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>menu</span><span class=p>]</span>                                               
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;posts&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Posts&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;posts&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;categories&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Categories&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;categories&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>2</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;tags&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Tags&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;tags&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;life&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Life&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;life&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;About&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;about&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl> <span class=c># 基本参数设置，包括网站描述字段、关键词、主页文章显示模式、子标题</span>
</span></span><span class=line><span class=cl> <span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#39;s personal blog&#34;</span>                      <span class=c># site description</span>
</span></span><span class=line><span class=cl>  <span class=nx>keywords</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;blog&#34;</span><span class=p>,</span> <span class=s2>&#34;Golang&#34;</span><span class=p>,</span> <span class=s2>&#34;Hugo&#34;</span><span class=p>,</span> <span class=s2>&#34;blockchain&#34;</span><span class=p>,</span> <span class=s2>&#34;go&#34;</span><span class=p>,</span> <span class=s2>&#34;life&#34;</span><span class=p>]</span>     <span class=c># site keywords</span>
</span></span><span class=line><span class=cl>                                              
</span></span><span class=line><span class=cl>  <span class=nx>home_mode</span> <span class=p>=</span> <span class=s2>&#34;other&#34;</span>                                <span class=c># [post, other] home mode</span>
</span></span><span class=line><span class=cl>  <span class=nx>subtitle</span> <span class=p>=</span> <span class=s2>&#34;The world loves people who love life&#34;</span>  <span class=c># subtitle shown in home page</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c>#头像、主页社交链接</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>gravatar</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span> <span class=p>=</span> <span class=s2>&#34;lylw1996@qq.com&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>social</span><span class=p>]</span>                                    <span class=c># Social Info in home page</span>
</span></span><span class=line><span class=cl>    <span class=nx>GitHub</span> <span class=p>=</span> <span class=s2>&#34;shuzang&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Email</span> <span class=p>=</span> <span class=s2>&#34;lylw1996@qq.com&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Steam</span> <span class=p>=</span> <span class=s2>&#34;76561198343669932&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>Skype</span> <span class=p>=</span> <span class=s2>&#34;live:844327696&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>  <span class=c># gitalk设置涉及clientId和clientSecret，忽略</span></span></span></code></pre></td></tr></table></div></div><h2 id=附录i-github-action>附录I Github Action</h2><p><a href=https://github.com/features/actions target=_blank rel="external nofollow noopener noreferrer">GitHub Actions</a> 是 GitHub 在2018年10月推出的一个<a href=http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html target=_blank rel="external nofollow noopener noreferrer">持续集成服务</a>，之前一直是试用阶段，去年(2019年)年末刚刚开放，据说比<a href=http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html target=_blank rel="external nofollow noopener noreferrer">Travis CI</a> 更简单更好用，所以打算把持续集成工具切换到它。同时，之前博客部署使用了两个仓库，一个放源码，一个放生成的网页文件，目前来看可以统一成一个。本篇文章就打算做这两件事。</p><p>Github Actions入门可以阅读<a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions target=_blank rel="external nofollow noopener noreferrer">官方文档</a>或者阮一峰大神的<a href=http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html target=_blank rel="external nofollow noopener noreferrer">GitHub Actions 入门教程</a></p><h2 id=附录ii-使用travis-ci>附录II 使用Travis CI</h2><p>通过Travis CI做博客的持续集成，可以每次自动渲染生成新的博客网页并推送到<code>shuzang.github.io</code>仓库，从而实现调整域名的目的。但之前尝试了多次持续集成都没有成功，还把博客搞坏了，最终只能重建网站。这一次发现了之前存在的问题，终于成功了。</p><h3 id=步骤1-申请token>步骤1 申请Token</h3><p>在GitHub 上申请一个新的 <a href=https://github.com/settings/tokens/new target=_blank rel="external nofollow noopener noreferrer">personal access token</a>。</p><p><code>Token description</code> 随便填，只要之后查看的时候知道是博客的就行。勾选所有 <code>repo</code> 列表项目，其它项目不要选。点击 <code>Generate token</code> 生成Token。</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVOiD.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVOiD.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVOiD.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVOiD.png?size=large 2x" sizes=auto data-title=申请Token data-alt=申请Token style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>之后跳转的页面会显示Token的值，一定要记下来，因为离开这个页面之后这个值就再也无法查看。我因为已经做过一次了，这里就只查看一下。</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVjRH.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVjRH.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVjRH.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVjRH.png?size=large 2x" sizes=auto data-title="blog token" data-alt="blog token" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h3 id=步骤2-设置travis-ci>步骤2 设置Travis CI</h3><p><a href=https://travis-ci.org/account/repositories target=_blank rel="external nofollow noopener noreferrer">Travis CI</a>是一个持续集成的工具，使用GitHub账号登陆，然后开启 <code>blog</code> 仓库，选择 <code>setting</code>。</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVbdK.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVbdK.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVbdK.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVbdK.png?size=large 2x" sizes=auto data-title=开启blog仓库持续集成 data-alt=开启blog仓库持续集成 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>在设置页面填写<strong>Environment Variables</strong>。</p><ul><li><strong>Name</strong> 填写： <code>GITHUB_TOKEN</code></li><li><strong>Value</strong> 填写：刚刚在 GitHub 申请到的 Token 的值</li></ul><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVhRJ.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVhRJ.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVhRJ.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVhRJ.png?size=large 2x" sizes=auto data-title=填写环境变量 data-alt=填写环境变量 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>填写完成后点击<code>Add</code>添加</p><h3 id=步骤3-编写配置文件>步骤3 编写配置文件</h3><p>在博客根目录下创建并编辑<code>.travis.yml</code>文件，该文件的作用是告诉Travis CI如何部署博客</p><div class=highlight id=id-24><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ls -al blog
</span></span><span class=line><span class=cl>total <span class=m>30</span>
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>29</span> 20:28 ./
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:20 ../
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>29</span> 20:28 .git/
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> 书葬 <span class=m>197610</span>  <span class=m>101</span> 9月  <span class=m>28</span> 18:21 .gitmodules
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> 书葬 <span class=m>197610</span> <span class=m>1810</span> 9月  <span class=m>29</span> 20:10 .travis.yml
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:21 archetypes/
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> 书葬 <span class=m>197610</span> <span class=m>4946</span> 9月  <span class=m>29</span> 18:27 config.toml
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:24 content/
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>29</span> 18:56 docs/
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> 书葬 <span class=m>197610</span>  <span class=m>456</span> 9月  <span class=m>29</span> 20:28 README.md
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:21 resources/
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:21 static/
</span></span><span class=line><span class=cl>drwxr-xr-x <span class=m>1</span> 书葬 <span class=m>197610</span>    <span class=m>0</span> 9月  <span class=m>28</span> 18:21 themes/</span></span></code></pre></td></tr></table></div></div><p>文件内容如下</p><div class=highlight id=id-25><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>language</span><span class=p>:</span><span class=w> </span><span class=l>go</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>go</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=s2>&#34;1.12&#34;</span><span class=w>  </span><span class=c># 指定Golang 1.12</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>dist</span><span class=p>:</span><span class=w> </span><span class=l>bionic </span><span class=w> </span><span class=c># Ubuntu 18.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=c># Github Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span>- <span class=nt>GH_REF</span><span class=p>:</span><span class=w> </span><span class=l>github.com/shuzang/shuzang.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Specify which branches to build using a safelist</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 分支白名单限制：只有 master 分支的提交才会触发构建</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># branches:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#   only:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#     - master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>before_install</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 安装依赖</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#  - wget -q -O libstdc++6.deb http://security.ubuntu.com/ubuntu/pool/main/g/gcc-5/libstdc++6_5.4.0-6ubuntu1~16.04.10_amd64.deb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#  - sudo dpkg --force-all -i libstdc++6.deb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 删除docs文件夹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>rm -rf ./docs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 安装 hugo （version: v0.58.0）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>wget -q -O hugo.deb https://github.com/gohugoio/hugo/releases/download/v0.58.3/hugo_extended_0.58.3_Linux-64bit.deb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>sudo dpkg -i hugo.deb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>install</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 运行hugo命令</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>cd ./docs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git init</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git config user.name &#34;shuzang&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git config user.email &#34;lylw1996@qq.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git add .</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git commit -m &#34;Update Blog By TravisCI With Build $TRAVIS_BUILD_NUMBER&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># Github Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>git push --force --quiet &#34;https://$GITHUB_TOKEN@${GH_REF}&#34; master:master</span></span></span></code></pre></td></tr></table></div></div><p>大部分都有注释说明，这里要注意的两点是</p><ol><li>在运行 <code>hugo</code> 命令前要先删除<code>docs</code>文件夹，是为了清除历史网页文件，这是Hugo官方建议的</li><li>注释掉了常规 Github pages 进行持续集成时使用的 <code>deploy</code> 部分，因为我们只需要单纯的把网页文件提交到另一个仓库。只有当普通的项目启用github pages时需要这部分，这里的博客部署不需要，开启<code>deploy</code>部分反而会出现错误，目前不知道原因。</li></ol><h3 id=步骤4-使用说明>步骤4 使用说明</h3><p>大部分工作都通过Travis CI自动进行了，以后提交只需要在改动之后直接<code>git push</code>到远程仓库，将会触发自动构建，只需要一两分钟，就可以在<a href=https://travis-ci.org/ target=_blank rel="external nofollow noopener noreferrer">Travis CI</a> 上查看部署情况。</p><p><font color=green>绿色</font> 代表部署成功  <font color=yellow>黄色</font> 代表正在部署  <font color=red>红色</font> 代表部署失败  <font color=gray>灰色</font> 代表部署被取消</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVos1.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVos1.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVos1.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20190426_1HVos1.png?size=large 2x" sizes=auto data-title=持续集成通过 data-alt=持续集成通过 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>然后访问<a href=https://shuzang.github.io target=_blank rel="external nofollow noopener noreferrer">博客首页</a>，不出意外就可以看到新的改动了。如果部署失败，在网页端的日志记录中找到失败原因，然后修改代码重新提交即可，新的提交通过后，原先失败的提交将会被解决。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2020-10-31 00:00:00">更新于 2020-10-31&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2019/hugo-blog-build-personal-blog/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2019/hugo-blog-build-personal-blog/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2019/hugo-blog-build-personal-blog/ data-title=hugo搭建个人博客1-基础建站><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ class=post-tag>博客搭建</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2019/%E7%94%9F%E5%91%BD%E6%B8%85%E5%8D%95/ class=post-nav-item rel=prev title=生命清单><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>生命清单</a>
<a href=/2019/blockchain-paradigm-and-internet-of-things/ class=post-nav-item rel=next title="Blockchain Paradigm and Internet of Things">Blockchain Paradigm and Internet of Things<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/alipay.png data-title=" 支付宝" data-alt=" 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/wechatpay.png data-title=" 微信" data-alt=" 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">Hava a great day !</div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=/></a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=https://unpkg.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><link rel=preload href=https://unpkg.com/katex@0.16.2/dist/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/katex@0.16.2/dist/katex.min.css></noscript><link rel=stylesheet href=https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css><script src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://unpkg.com/fuse.js@6.6.2/dist/fuse.min.js defer></script><script src=https://unpkg.com/twemoji@14.0.2/dist/twemoji.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/lightgallery.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js defer></script><script src=https://unpkg.com/sharer.js@0.5.1/sharer.min.js async defer></script><script src=https://unpkg.com/katex@0.16.2/dist/katex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/auto-render.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/copy-tex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/mhchem.min.js defer></script><script src=https://unpkg.com/pangu@4.0.7/dist/browser/pangu.min.js defer></script><script src=https://unpkg.com/pace-js@1.2.4/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>