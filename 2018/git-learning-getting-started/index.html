<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Git入门-基本概念, 基本原理, 安装使用 - Shuzang's Blog</title><meta name=author content><meta name=author-link content><meta name=description content="版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 git教程 为主体，辅以使用过程中遇到的问题和心得。"><meta name=keywords content="git"><meta itemprop=name content="Git入门-基本概念, 基本原理, 安装使用"><meta itemprop=description content="版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 git教程 为主体，辅以使用过程中遇到的问题和心得。"><meta itemprop=datePublished content="2018-04-20T19:06:20+08:00"><meta itemprop=dateModified content="2020-10-08T00:00:00+00:00"><meta itemprop=wordCount content="5358"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="git,"><meta property="og:title" content="Git入门-基本概念, 基本原理, 安装使用"><meta property="og:description" content="版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 git教程 为主体，辅以使用过程中遇到的问题和心得。"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2018/git-learning-getting-started/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-04-20T19:06:20+08:00"><meta property="article:modified_time" content="2020-10-08T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="Git入门-基本概念, 基本原理, 安装使用"><meta name=twitter:description content="版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 git教程 为主体，辅以使用过程中遇到的问题和心得。"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2018/git-learning-getting-started/><link rel=prev href=https://shuzang.github.io/2018/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%89%E6%8B%A9/><link rel=next href=https://shuzang.github.io/2018/git-learning-improvement/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css></noscript><link rel=preload href=https://unpkg.com/animate.css@4.1.1/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Git入门-基本概念, 基本原理, 安装使用","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2018\/git-learning-getting-started\/"},"genre":"posts","keywords":"git","wordcount":5358,"url":"https:\/\/shuzang.github.io\/2018\/git-learning-getting-started\/","datePublished":"2018-04-20T19:06:20+08:00","dateModified":"2020-10-08T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"作者"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-alt=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Git入门-基本概念, 基本原理, 安装使用</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i></span></span>
<span class=post-category>收录于 <a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 爱编程爱技术的孩子</a></span></div><div class=post-meta-line><span title="发布于 2018-04-20 19:06:20"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2018-04-20>2018-04-20</time></span>&nbsp;<span title="更新于 2020-10-08 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2020-10-08>2020-10-08</time></span>&nbsp;<span title="5358 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 5400 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 11 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-版本控制系统>1. 版本控制系统</a><ul><li><a href=#11-作用>1.1 作用</a></li><li><a href=#11-历史>1.1 历史</a></li><li><a href=#12-github>1.2 Github</a></li></ul></li><li><a href=#2-安装使用>2. 安装使用</a><ul><li><a href=#21-linux安装>2.1 Linux安装</a></li><li><a href=#22-windows安装>2.2 windows安装</a></li></ul></li><li><a href=#3-仓库和文件>3. 仓库和文件</a><ul><li><a href=#31-创建一个仓库>3.1 创建一个仓库</a></li><li><a href=#32-在仓库中添加文件>3.2 在仓库中添加文件</a></li><li><a href=#33-对文件进行修改>3.3 对文件进行修改</a></li></ul></li><li><a href=#4-远程仓库>4. 远程仓库</a><ul><li><a href=#41-创建ssh-key>4.1 创建SSH Key</a></li><li><a href=#42-登陆github>4.2 登陆GitHub</a></li><li><a href=#43-创建远程仓库>4.3 创建远程仓库</a></li><li><a href=#44-从远程仓库克隆到本地>4.4 从远程仓库克隆到本地</a></li></ul></li><li><a href=#5-历史版本>5. 历史版本</a><ul><li><a href=#51-查看历史版本>5.1 查看历史版本</a></li><li><a href=#52-回退>5.2 回退</a></li></ul></li><li><a href=#6-三大工作区域>6. 三大工作区域</a><ul><li><a href=#61-丢弃修改>6.1 丢弃修改</a></li><li><a href=#62-删除文件>6.2 删除文件</a></li></ul></li><li><a href=#参考与扩展>参考与扩展</a></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2020-10-08，文中内容可能已过时。</div></div></div><p>版本控制系统在代码开发过程中必不可缺，本系列学习 Git 的使用，版本托管服务则是 Github。以廖雪峰大神 <a href=https://www.liaoxuefeng.com/wiki/896043488029600 target=_blank rel="external nofollow noopener noreferrer">git教程</a> 为主体，辅以使用过程中遇到的问题和心得。</p><h2 id=1-版本控制系统>1. 版本控制系统</h2><h3 id=11-作用>1.1 作用</h3><p>版本控制系统用来解决两种情况</p><ol><li><p>文章不断进行修改，但又觉得之前的版本可能有用，于是产生大量重命名文件，代码编辑亦如是，而且更加不容易回溯。</p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>版本1.doc   
</span></span><span class=line><span class=cl>版本2.doc   
</span></span><span class=line><span class=cl>最终版本.doc   
</span></span><span class=line><span class=cl>最终版本改.doc   
</span></span><span class=line><span class=cl>真的是最终版本了.doc</span></span></code></pre></td></tr></table></div></div></li><li><p>多人协作，每次都需要校对对方的改动，然后进行合并，会花费大量不必要的精力</p></li></ol><p>版本控制的作用就是记录所有的修改历史，便于需要时回退，同时提供一个协作的平台。</p><h3 id=11-历史>1.1 历史</h3><p>Git 属于分布式版本控制，在此之前主要是<strong>集中式的版本控制</strong>，基本原理是有一个服务器放所有的代码，要工作的时候下载回来，改动完上传回去，记录不同人的改动和合并都由服务器端完成，这种形式极度依赖于服务器性能和网速。</p><p>2005 年 Linux 内核代码版本控制使用的软件失效，Linux 创始人 Linus 花了一周开发了 Git 这个分布式版本控制系统，其后慢慢流行，现在已用于大多数的项目代码管理。</p><p><strong>分布式版本控制</strong>和 torrent 差不多，每个人的电脑都是服务器，修改完直接把修改的部分推送给所有拥有这个项目的人。分布式版本控制也有服务器，但主要是负责做备份，并方便大家的交换用的，并不是必要。</p><h3 id=12-github>1.2 Github</h3><p><strong>Github</strong>，发音为「 ɡɪthʌb 」，是为开源项目免费提供 Git 存储的网站，2008年上线。</p><p>注意，Git 和 Github 这两个单词在官方的网站上首字母都是大写，因此我们遵从这样的规则。</p><h2 id=2-安装使用>2. 安装使用</h2><p>Git 是全平台的软件，命令行界面，连接到服务商（比如 Github）就能使用，目前 Github 已经推出了 windows 上的 GUI 版本，操作更加简便。</p><h3 id=21-linux安装>2.1 Linux安装</h3><div class=highlight id=id-2><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo apt-get install git
</span></span><span class=line><span class=cl>$ git version</span></span></code></pre></td></tr></table></div></div><p>安装完成后还要设置自己的名字和Email地址</p><div class=highlight id=id-3><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git config --global  user.name   <span class=s2>&#34;your name&#34;</span>
</span></span><span class=line><span class=cl>$ git config --global  user.email  <span class=s2>&#34;email@example.com&#34;</span></span></span></code></pre></td></tr></table></div></div><p><code>--global</code>参数的意思是这个名字和邮箱应用于所有git仓库</p><h3 id=22-windows安装>2.2 windows安装</h3><p>从<a href=https://git-scm.com/ target=_blank rel="external nofollow noopener noreferrer">官网</a>下载<code>Download x.xx for Windows</code>按照，会自动配置环境变量。我一般使用chocolatey包管理工具，执行命令如下</p><div class=highlight id=id-4><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>&gt;</span> <span class=n>choco</span> <span class=n>install</span> <span class=n>git</span></span></span></code></pre></td></tr></table></div></div><p>Windows下GUI版下载地址为：https://desktop.github.com/ ，嗯，真香，windows下我已经很久不用命令行的git了，一般都当作shell工具来使用，而不是执行git命令。</p><h2 id=3-仓库和文件>3. 仓库和文件</h2><p><strong><ruby>仓库<rt>repository</rt></ruby></strong>，本质是一个文件夹，存放归属同一个项目的所有文件，是版本控制中的一个重要概念，可分为本地仓库和云端仓库。本地仓库是自己的代码编辑工作区，云端仓库是代码的备份。</p><h3 id=31-创建一个仓库>3.1 创建一个仓库</h3><p>在本地任意路径创建<code>gittest</code>文件夹，路径自定义</p><div class=highlight id=id-5><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mkdir gittest</span></span></code></pre></td></tr></table></div></div><p>进入创建的文件夹，使用 <code>git init</code> 命令把该目录变成git的仓库</p><div class=highlight id=id-6><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>cd</span> gittest
</span></span><span class=line><span class=cl>$ git init</span></span></code></pre></td></tr></table></div></div><p>然后仓库就建好了，该目录下会多一个<code>.git</code>隐藏文件夹，用来跟踪管理仓库。使用<code>ls -a</code>命令可以看到该文件夹，默认隐藏说明它很重要，里面的文件改动的话很容易导致仓库损坏。<code>.git</code>文件夹下的内容包括</p><div class=highlight id=id-7><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ls .git
</span></span><span class=line><span class=cl>config  description  HEAD  hooks/  info/  objects/  refs/</span></span></code></pre></td></tr></table></div></div><p>一些文件的作用在<code>暂存区和工作区</code>部分解释。</p><h3 id=32-在仓库中添加文件>3.2 在仓库中添加文件</h3><p>添加文件的类型有讲究</p><ul><li><p>对txt文档、代码文件等文件类型，版本控制系统可记录每次的改动</p></li><li><p>对图片、视频、PDF等文件类型，版本控制系统只能管理，不能记录改动，最多只能记录大小变化，Word文件实质是二进制格式，所以同样没法跟踪改动</p></li></ul><p>首先新建一个txt文件并放在gittest目录下，编辑其文件内容</p><div class=highlight id=id-8><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>cd</span> gittest
</span></span><span class=line><span class=cl>$ touch hellogit.txt
</span></span><span class=line><span class=cl>$ cat hellogit.txt
</span></span><span class=line><span class=cl>hello git</span></span></code></pre></td></tr></table></div></div><p>用<code>git add</code>命令将该文件添加到暂存区，暂存区的概念之后解释</p><div class=highlight id=id-9><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git add  hellogit.txt</span></span></code></pre></td></tr></table></div></div><p>用git commit命令将文件提交到仓库(这里指本地仓库)</p><div class=highlight id=id-10><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;first commit&#34;</span>
</span></span><span class=line><span class=cl><span class=o>[</span>master <span class=o>(</span>root-commit<span class=o>)</span> a91c248<span class=o>]</span> first commit
</span></span><span class=line><span class=cl> <span class=m>1</span> file changed, <span class=m>1</span> insertion<span class=o>(</span>+<span class=o>)</span>
</span></span><span class=line><span class=cl> create mode <span class=m>100644</span> hellogit.txt</span></span></code></pre></td></tr></table></div></div><p>双引号中为备注信息，是该次提交的说明，一般情况是描述此次修改的。commit添加的提交信息对于代码review具有重要的作用，要遵循一定的规范。</p><p>命令执行完后的提示包括以下内容：</p><ol><li>提交到了主分支（master)，备注信息为「first commit」</li><li>改动了一个文件（hellogit.txt），加了1行内容(注意那个+号)</li><li>最后一行中100代表regular file，644代表文件权限</li></ol><p><code>git add</code>命令可以有多个，分多次将文件添加到暂存区，之后执行<code>git commit</code>命令会一次性将之前add的所有文件一起提交，如</p><div class=highlight id=id-11><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git add file1.txt
</span></span><span class=line><span class=cl>git add file2.txt file3.txt
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;add 3 files&#34;</span></span></span></code></pre></td></tr></table></div></div><p>也可以使用如下命令一次性将所有修改添加到暂存区，然后执行<code>commit</code>命令</p><div class=highlight id=id-12><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> $ git add .</span></span></code></pre></td></tr></table></div></div><h3 id=33-对文件进行修改>3.3 对文件进行修改</h3><p>版本控制的目的就是记录文件的改动，我们将hellogit.txt文件的内容进行第二次修改，用 git status 命令查看仓库当前状态</p><div class=highlight id=id-13><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>Changes not staged <span class=k>for</span> commit:
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        modified:   hellogit.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>no changes added to commit <span class=o>(</span>use <span class=s2>&#34;git add&#34;</span> and/or <span class=s2>&#34;git commit -a&#34;</span><span class=o>)</span></span></span></code></pre></td></tr></table></div></div><p>返回的提示内容会包括</p><ul><li>位于哪个分支</li><li>修改了哪个文件</li><li>「修改尚未加入提交」</li></ul><p>如果我们想看到具体做了哪些修改，用<code>git diff</code>命令，diff就是diffenence，所以<code>git diff</code>的意思就是查看不同</p><div class=highlight id=id-14><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git diff hellogit.txt
</span></span><span class=line><span class=cl>diff --git a/hellogit.txt b/hellogit.txt
</span></span><span class=line><span class=cl>index f09e9c3..a90a76d <span class=m>100644</span>
</span></span><span class=line><span class=cl>--- a/hellogit.txt
</span></span><span class=line><span class=cl>+++ b/hellogit.txt
</span></span><span class=line><span class=cl>@@ -1 +1,2 @@
</span></span><span class=line><span class=cl>-hello git
</span></span><span class=line><span class=cl><span class=se>\ </span>No newline at end of file
</span></span><span class=line><span class=cl>+hello git
</span></span><span class=line><span class=cl>+add a line
</span></span><span class=line><span class=cl><span class=se>\ </span>No newline at end of file</span></span></code></pre></td></tr></table></div></div><p>提示中说明了我们在末尾添加了一行，其内容为<code>add a line</code>。此时我们确认了做的修改是我们心里所想的，就可以再次提交了</p><div class=highlight id=id-15><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git add hellogit.txt
</span></span><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>Changes to be committed:
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        modified:   hellogit.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;add a line&#34;</span>
</span></span><span class=line><span class=cl><span class=o>[</span>master ae3c27f<span class=o>]</span> add a line
</span></span><span class=line><span class=cl> <span class=m>1</span> file changed, <span class=m>2</span> insertions<span class=o>(</span>+<span class=o>)</span>, <span class=m>1</span> deletion<span class=o>(</span>-<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>nothing to commit, working tree clean</span></span></code></pre></td></tr></table></div></div><p>提交过程中可以每一步都使用<code>git status</code>命令查看当前状态，最后commit提交完的状态提示为：</p><div class=highlight id=id-16><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>位于master分支
</span></span><span class=line><span class=cl>无文件要提交，干净的工作区</span></span></code></pre></td></tr></table></div></div><p>此时就放心了，每次修改完或者要离开工作岗位的时候提交一次，就像游戏存档，离开之前或者重要关卡前存档，失败的时候就能读档重来，这里修改出错也可以从上一次的commit重来</p><h2 id=4-远程仓库>4. 远程仓库</h2><p>本地仓库的代码编辑完成后，需要推送到远程仓库进行备份，我们使用Github提供的免费远程仓库。由于本地Git仓库和GitHub远程仓库之间的传输是通过SSH加密的，所以，需要先设置SSH密钥。</p><h3 id=41-创建ssh-key>4.1 创建SSH Key</h3><p>在用户主目录下，看看有没有<code>.ssh</code>(默认隐藏)目录，如果有，再看看这个目录下有没有<code>id_rsa</code>和<code>id_rsa.pub</code>这两个文件，如果已经有了，可直接跳到下一步。如果没有，打开终端，创建SSH Key：</p><div class=highlight id=id-17><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ssh-keygen -t rsa -C <span class=s2>&#34;youremail@example.com&#34;</span></span></span></code></pre></td></tr></table></div></div><p>把邮件地址换成自己的邮件地址，然后一路回车，使用默认值即可，是否设置密码自己选择。</p><p>如果一切顺利的话，可以在用户主目录里找到<code>.ssh</code>目录，里面有私钥<code>id_rsa</code>和公钥<code>id_rsa.pub</code>两个文件。</p><h3 id=42-登陆github>4.2 登陆GitHub</h3><p>点击右上角头像，打开<code>Settings——>SSH and GPG Keys——>New SSH Key</code></p><p>填上任意Title，在Key文本框里粘贴<code>id_rsa.pub</code>文件的内容，然后点击<code>Add SSH key</code>就行了</p><p>GitHub需要SSH Key识别出你推送的提交确实是你推送的，而不是别人冒充的。当然，GitHub允许添加多个Key。假定有若干电脑，只要把每台电脑的Key都添加到GitHub，就可以在每台电脑上往GitHub推送了。</p><h3 id=43-创建远程仓库>4.3 创建远程仓库</h3><p>首先在Github创建一个<strong>同名仓库</strong></p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5tOA.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5tOA.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5tOA.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5tOA.png?size=large 2x" sizes=auto data-title=新建仓库 data-alt=新建仓库 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>
<img loading=lazy src=https://user-images.githubusercontent.com/26682846/71865229-126b2800-313d-11ea-928e-ee03fc5ffdd1.png srcset="https://user-images.githubusercontent.com/26682846/71865229-126b2800-313d-11ea-928e-ee03fc5ffdd1.png?size=small, https://user-images.githubusercontent.com/26682846/71865229-126b2800-313d-11ea-928e-ee03fc5ffdd1.png?size=medium 1.5x, https://user-images.githubusercontent.com/26682846/71865229-126b2800-313d-11ea-928e-ee03fc5ffdd1.png?size=large 2x" sizes=auto data-title=新建仓库 data-alt=新建仓库 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>创建完成后跳转界面给我们提供了三个选择</p><ul><li><p>&mldr;or create a new repository on the command line</p><div class=highlight id=id-18><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;# gittest&#34;</span> &gt;&gt; README.md
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add README.md
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;first commit&#34;</span>
</span></span><span class=line><span class=cl>git remote add origin https://github.com/shuzang/gittest.git
</span></span><span class=line><span class=cl>git push -u origin master</span></span></code></pre></td></tr></table></div></div></li><li><p>&mldr;or push an existing repository from the command line</p><div class=highlight id=id-19><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote add origin https://github.com/shuzang/gittest.git
</span></span><span class=line><span class=cl>git push -u origin master</span></span></code></pre></td></tr></table></div></div></li><li><p>&mldr;or import code from another repository</p><p>You can initialize this repository with code from a Subversion, Mercurial, or TFS project.</p></li></ul><p>第一个选项基本就是没有本地仓库的情况下我们要做的所有事情，不过现在我们已经有了本地仓库，所以选择第二个选项，将本地已存在的gittest仓库关联到Github。</p><p>按提示执行命令即可</p><div class=highlight id=id-20><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git remote add origin https://github.com/shuzang/gittest.git
</span></span><span class=line><span class=cl>$ git push -u origin master
</span></span><span class=line><span class=cl>Enumerating objects: 6, <span class=k>done</span>.
</span></span><span class=line><span class=cl>Counting objects: 100% <span class=o>(</span>6/6<span class=o>)</span>, <span class=k>done</span>.
</span></span><span class=line><span class=cl>Delta compression using up to <span class=m>4</span> threads
</span></span><span class=line><span class=cl>Compressing objects: 100% <span class=o>(</span>2/2<span class=o>)</span>, <span class=k>done</span>.
</span></span><span class=line><span class=cl>Writing objects: 100% <span class=o>(</span>6/6<span class=o>)</span>, <span class=m>448</span> bytes <span class=p>|</span> 448.00 KiB/s, <span class=k>done</span>.
</span></span><span class=line><span class=cl>Total <span class=m>6</span> <span class=o>(</span>delta 0<span class=o>)</span>, reused <span class=m>0</span> <span class=o>(</span>delta 0<span class=o>)</span>
</span></span><span class=line><span class=cl>To https://github.com/shuzang/gittest.git
</span></span><span class=line><span class=cl> * <span class=o>[</span>new branch<span class=o>]</span>      master -&gt; master
</span></span><span class=line><span class=cl>Branch <span class=s1>&#39;master&#39;</span> <span class=nb>set</span> up to track remote branch <span class=s1>&#39;master&#39;</span> from <span class=s1>&#39;origin&#39;</span>.</span></span></code></pre></td></tr></table></div></div><p>返回的结果告诉我们分支master设置为跟踪来自origin的远程分支master，代码已推送到远程仓库。此时查看远程仓库如下</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5DfS.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5DfS.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5DfS.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5DfS.png?size=large 2x" sizes=auto data-title=gittest仓库 data-alt=gittest仓库 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>点击左侧中间的<code>2 commits</code>可以查看提交的具体情况</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A52mn.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A52mn.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A52mn.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A52mn.png?size=large 2x" sizes=auto data-title=提交信息 data-alt=提交信息 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>继续点击每个具体的提交可以查看代码或文件的改动</p><p><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5opF.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5opF.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5opF.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3A5opF.png?size=large 2x" sizes=auto data-title="add a line" data-alt="add a line" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p>查看别人的代码时，可以从这里查看一次次提交的改动和commit信息，有助于帮助我们学习别人的代码和编写思路</p><p>以后编辑和提交代码，主体就三个命令</p><div class=highlight id=id-21><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git add .
</span></span><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;commit message&#34;</span>
</span></span><span class=line><span class=cl>$ git push origin master</span></span></code></pre></td></tr></table></div></div><p>其它的git命令都是辅助，之后会慢慢介绍</p><h3 id=44-从远程仓库克隆到本地>4.4 从远程仓库克隆到本地</h3><p>换到新电脑或者不是自己从头新建仓库，而是使用别人的仓库进行合作开发，使用<code>git clone</code>命令，</p><div class=highlight id=id-22><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git clone 仓库地址</span></span></code></pre></td></tr></table></div></div><p>如果是下载某个指定分支的内容，命令为</p><div class=highlight id=id-23><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git clone -b 分支名 仓库地址</span></span></code></pre></td></tr></table></div></div><h2 id=5-历史版本>5. 历史版本</h2><p>修改的次数会逐渐变多，随着时间的流逝，我们完全不会记得每次修改了哪些内容，当然，git的出现就是为了帮我们解决这个问题，所以理所当然的会有查看历史版本的能力，以及回退到某个版本的能力，云端查看历史版本如上节所述，本地命令行如何查看在本节详细解释，以及介绍如果丢弃错误的提交。</p><h3 id=51-查看历史版本>5.1 查看历史版本</h3><p>使用 <code>git log</code> 命令可以查看历史改动</p><div class=highlight id=id-24><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git log
</span></span><span class=line><span class=cl>commit ae3c27f99068e6eb301fd7d28960b97ec56b9733 <span class=o>(</span>HEAD -&gt; master, origin/master<span class=o>)</span>
</span></span><span class=line><span class=cl>Author: shuzang &lt;844327696@qq.com&gt;
</span></span><span class=line><span class=cl>Date:   Tue Jan <span class=m>7</span> 10:52:14 <span class=m>2020</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    add a line
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>commit a91c24851ecd74e933bd638fd30773050bd7c692
</span></span><span class=line><span class=cl>Author: shuzang &lt;844327696@qq.com&gt;
</span></span><span class=line><span class=cl>Date:   Tue Jan <span class=m>7</span> 10:42:01 <span class=m>2020</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    first commit</span></span></code></pre></td></tr></table></div></div><p>提示内容是按从近到远的顺序把所有改动列举一遍，包括用户名、邮箱、修改日期，当时添加的message信息，不想看名称、邮箱和日期可以使用参数简化显示，如下：</p><div class=highlight id=id-25><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git log --pretty<span class=o>=</span>oneline
</span></span><span class=line><span class=cl>ae3c27f99068e6eb301fd7d28960b97ec56b9733 <span class=o>(</span>HEAD -&gt; master, origin/master<span class=o>)</span> add a line
</span></span><span class=line><span class=cl>a91c24851ecd74e933bd638fd30773050bd7c692 first commit</span></span></code></pre></td></tr></table></div></div><p>也可以用以下命令查看参数使用方式</p><div class=highlight id=id-26><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git log --help</span></span></code></pre></td></tr></table></div></div><p>提示内容中每次修改最前面的一串长字符是版本号（commit id），用十六进制表示，用来代表我们每次修改的版本</p><h3 id=52-回退>5.2 回退</h3><p>首先，在git中，用<code>HEAD</code>表示当前版本，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然历史版本数多的时候写<code>^</code>写不过来，所以写成<code>HEAD~number</code>，如往上100个版本就是<code>HEAD-100</code><br>回退命令为<code>git reset</code>，比如，回退到上一个版本</p><div class=highlight id=id-27><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git  reset --hard HEAD^
</span></span><span class=line><span class=cl>HEAD is now at a91c248 first commit</span></span></code></pre></td></tr></table></div></div><p>然后我们就看到真的变回去了，如果记下了版本号，我们还可以再跳回最后一个修改版本，也就是说，我们突然不想回退了，或者退多了</p><div class=highlight id=id-28><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git reset  --hard ae3c
</span></span><span class=line><span class=cl>HEAD is now at ae3c27f add a line</span></span></code></pre></td></tr></table></div></div><p><code>ae3c</code>为其版本号，但版本号没必要写全，因为它的作用是为了区分各版本，所以只要找到第一个不相同的那位字母，写到那里就行了</p><p>版本切换的速度非常快，主要是因为<code>HEAD</code>只是一个指向当前版本的指针，跳转版本的时候也仅仅移动指针</p><p>在不记得版本号的情况下，git还提供了<code>git reflog</code>命令记录每次<code>HEAD</code>指针移动</p><div class=highlight id=id-29><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git reflog
</span></span><span class=line><span class=cl>ae3c27f <span class=o>(</span>HEAD -&gt; master, origin/master<span class=o>)</span> HEAD@<span class=o>{</span>0<span class=o>}</span>: reset: moving to ae3c
</span></span><span class=line><span class=cl>a91c248 HEAD@<span class=o>{</span>1<span class=o>}</span>: reset: moving to HEAD^
</span></span><span class=line><span class=cl>ae3c27f <span class=o>(</span>HEAD -&gt; master, origin/master<span class=o>)</span> HEAD@<span class=o>{</span>2<span class=o>}</span>: commit: add a line
</span></span><span class=line><span class=cl>a91c248 HEAD@<span class=o>{</span>3<span class=o>}</span>: commit <span class=o>(</span>initial<span class=o>)</span>: first commit</span></span></code></pre></td></tr></table></div></div><p>该命令会显示每次修改版本的版本号</p><h2 id=6-三大工作区域>6. 三大工作区域</h2><p>使用 Git 最好理解它的三大工作区域：工作目录、暂存区和版本仓库。</p><p><strong>工作目录</strong>就是代码编辑的主体目录，存放整个项目的源码和相关文件。</p><p><strong>暂存区</strong>也叫做索引，用来跟踪工作目录的所有文件。事实上，工作目录中的每一个文件要么处于已跟踪状态，要么处于未跟踪状态，执行这个跟踪动作的，就是索引。索引所对应的静态文件是工作目录下 <code>.git</code> 隐藏文件夹中的 <code>index</code> 文件，其中记录每个已跟踪文件的文件名、文件时间戳、文件长度等元数据信息。需要注意的是，索引并不保持文件的具体内容，只记录文件的改动，文件的具体内容保持在版本仓库中。<code>git add</code> 命令可以将改变提交给暂存区。</p><p><strong>版本仓库</strong>就是本地电脑具体保存所有代码的地方。具体位置是 <code>.git/objects</code> 文件夹，暂存区的文件经过 <code>git commit</code> 命令可以提交到本地版本仓库。本地版本仓库需要和远程的云端仓库（也就是存在 Github 服务器里的仓库文件）同步，如果有修改，需要推送到远程仓库，如果远程有别人的提交，需要拉取和本地代码合并。</p><p>版本库里有暂存区，还有自动创建的第一个分支master，以及指向master的一个指针叫HEAD
<img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3AIQns.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3AIQns.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3AIQns.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/BC_20180420_3AIQns.png?size=large 2x" sizes=auto data-title=工作区与版本库图解 data-alt=工作区与版本库图解 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>
<code>git add</code>实际上是把文件修改添加到暂存区；
<code>git commit</code>实际上是把暂存区的所有内容提交到当前分支</p><p>在推送到远程仓库之前，一切修改都有挽救的机会</p><h3 id=61-丢弃修改>6.1 丢弃修改</h3><p><strong>场景1</strong>：当改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用命令</p><div class=highlight id=id-30><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 撤销单个文件修改</span>
</span></span><span class=line><span class=cl>$ git checkout -- file
</span></span><span class=line><span class=cl><span class=c1># 撤销从上次提交后所有修改</span>
</span></span><span class=line><span class=cl>$ git checkout -- *</span></span></code></pre></td></tr></table></div></div><p><strong>场景2</strong>：当不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令</p><div class=highlight id=id-31><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git reset HEAD file
</span></span><span class=line><span class=cl>$ git checkout -- file</span></span></code></pre></td></tr></table></div></div><p><strong>场景3</strong>：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考上一节进行版本回退</p><p>最后，如果代码已经提交到了远程仓库，那么只能进行修复然后进行新的提交</p><h3 id=62-删除文件>6.2 删除文件</h3><p>一般情况，是直接在文件夹中用rm命令删除，但这样工作区和版本库就不一致了</p><div class=highlight id=id-32><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ rm hellogit.txt
</span></span><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>Your branch is up to date with <span class=s1>&#39;origin/master&#39;</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Changes not staged <span class=k>for</span> commit:
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git add/rm &lt;file&gt;...&#34;</span> to update what will be committed<span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        deleted:    hellogit.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>no changes added to commit <span class=o>(</span>use <span class=s2>&#34;git add&#34;</span> and/or <span class=s2>&#34;git commit -a&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>$ git add .
</span></span><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;remove hellogit.txt&#34;</span></span></span></code></pre></td></tr></table></div></div><p>可以用命令恢复</p><div class=highlight id=id-33><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git checkout -- hellogit.txt</span></span></code></pre></td></tr></table></div></div><p>正常从版本库中删除该文件，用<code>git rm</code>命令，并且<code>git commit</code></p><div class=highlight id=id-34><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git rm hellogit.txt
</span></span><span class=line><span class=cl>rm <span class=s1>&#39;hellogit.txt&#39;</span>
</span></span><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>Your branch is up to date with <span class=s1>&#39;origin/master&#39;</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Changes to be committed:
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git reset HEAD &lt;file&gt;...&#34;</span> to unstage<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        deleted:    hellogit.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;remove hellogit.txt&#34;</span></span></span></code></pre></td></tr></table></div></div><p>两者的区别是直接删除需要额外执行<code>git add</code>命令，而<code>git rm</code>删除后可以直接<code>commit</code>，当然，其实没有多少影响，具体用什么方法，自己选择就好。</p><h2 id=参考与扩展>参考与扩展</h2><p>[1] <a href=https://www.liaoxuefeng.com/wiki/896043488029600 target=_blank rel="external nofollow noopener noreferrer">廖雪峰的官方网站-git教程</a></p><p>[2] <a href=https://backlog.com/git-tutorial/cn/intro/intro1_1.html target=_blank rel="external nofollow noopener noreferrer">猴子都能懂的git入门</a></p><p>[3] <a href=https://lab.github.com/ target=_blank rel="external nofollow noopener noreferrer">Github Learning Lab</a></p><p>[4] <a href=https://hellogithub.com/ target=_blank rel="external nofollow noopener noreferrer">Hellogithub</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2020-10-08 00:00:00">更新于 2020-10-08&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2018/git-learning-getting-started/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2018/git-learning-getting-started/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2018/git-learning-getting-started/ data-title="Git入门-基本概念, 基本原理, 安装使用"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/git/ class=post-tag>git</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2018/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%80%89%E6%8B%A9/ class=post-nav-item rel=prev title=编程语言选择><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>编程语言选择</a>
<a href=/2018/git-learning-improvement/ class=post-nav-item rel=next title="Git提高-分支管理, 多人协作, 标签管理, gitignore, commit信息">Git提高-分支管理, 多人协作, 标签管理, gitignore, commit信息<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/alipay.png data-title=" 支付宝" data-alt=" 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/wechatpay.png data-title=" 微信" data-alt=" 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">Hava a great day !</div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=/></a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=https://unpkg.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><link rel=preload href=https://unpkg.com/katex@0.16.2/dist/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/katex@0.16.2/dist/katex.min.css></noscript><link rel=stylesheet href=https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css><script src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://unpkg.com/fuse.js@6.6.2/dist/fuse.min.js defer></script><script src=https://unpkg.com/twemoji@14.0.2/dist/twemoji.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/lightgallery.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js defer></script><script src=https://unpkg.com/sharer.js@0.5.1/sharer.min.js async defer></script><script src=https://unpkg.com/katex@0.16.2/dist/katex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/auto-render.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/copy-tex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/mhchem.min.js defer></script><script src=https://unpkg.com/pangu@4.0.7/dist/browser/pangu.min.js defer></script><script src=https://unpkg.com/pace-js@1.2.4/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>