<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>正则表达式与通配符 - Shuzang's Blog</title><meta name=author content="Shuzang"><meta name=author-link content><meta name=description content="正则表达式在字符串处理时使用的非常普遍，这次来学习正则的相关知识，分别结束通配符、正则及它们的区别。"><meta name=keywords content="linux"><meta itemprop=name content="正则表达式与通配符"><meta itemprop=description content="正则表达式在字符串处理时使用的非常普遍，这次来学习正则的相关知识，分别结束通配符、正则及它们的区别。"><meta itemprop=datePublished content="2020-09-02T00:00:00+00:00"><meta itemprop=dateModified content="2020-09-02T00:00:00+00:00"><meta itemprop=wordCount content="2885"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="linux,"><meta property="og:title" content="正则表达式与通配符"><meta property="og:description" content="正则表达式在字符串处理时使用的非常普遍，这次来学习正则的相关知识，分别结束通配符、正则及它们的区别。"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2020/regular-expression-basic-syntax/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-02T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-02T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="正则表达式与通配符"><meta name=twitter:description content="正则表达式在字符串处理时使用的非常普遍，这次来学习正则的相关知识，分别结束通配符、正则及它们的区别。"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2020/regular-expression-basic-syntax/><link rel=prev href=https://shuzang.github.io/2020/algorithm-stings/><link rel=next href=https://shuzang.github.io/2020/windows-linux-unix-and-macos/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"正则表达式与通配符","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2020\/regular-expression-basic-syntax\/"},"genre":"posts","keywords":"linux","wordcount":2885,"url":"https:\/\/shuzang.github.io\/2020\/regular-expression-basic-syntax\/","datePublished":"2020-09-02T00:00:00+00:00","dateModified":"2020-09-02T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Shuzang"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=/images/avatar.png data-alt=/images/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>正则表达式与通配符</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=Shuzang data-alt=Shuzang class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Shuzang</span></span>
<span class=post-category>收录于 <a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 爱编程爱技术的孩子</a></span></div><div class=post-meta-line><span title="发布于 2020-09-02 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2020-09-02>2020-09-02</time></span>&nbsp;<span title="更新于 2020-09-02 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2020-09-02>2020-09-02</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 2885 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 6 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-通配符>1. 通配符</a></li><li><a href=#2-正则表达式>2. 正则表达式</a><ul><li><a href=#21-字符>2.1 字符</a></li><li><a href=#22-元字符>2.2 元字符</a><ul><li><a href=#量词>量词</a></li><li><a href=#边界>边界</a></li><li><a href=#集合>集合</a></li><li><a href=#修饰符>修饰符</a></li></ul></li><li><a href=#23-子表达式>2.3 子表达式</a><ul><li><a href=#分组>分组</a></li><li><a href=#回溯引用>回溯引用</a></li><li><a href=#预搜索>预搜索</a></li></ul></li></ul></li><li><a href=#3-区别>3. 区别</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2020-09-02，文中内容可能已过时。</div></div></div><p>正则表达式在字符串处理时使用的非常普遍，这次来学习正则的相关知识，分别结束通配符、正则及它们的区别。</p><h2 id=1-通配符>1. 通配符</h2><p>首先明确场景，通配符和正则表达式都是做匹配的，匹配常见的场景有</p><ol><li>Office 系列，尤其是 Word 中的查找和替换；</li><li>常用的文本编辑器中的查找和替换，比如 Win10 下的记事本、VSCode、Typora 等</li><li>Win10 或 Linux 命令行输入各种命令时使用</li><li>编程时进行字符串匹配使用</li></ol><p><strong>Office 系列</strong>的查找和替换默认都是正则表达式，但可以在选项中勾选使用通配符，而且 Office 系列的通配符很简单，只有三种：问号（？）、星号（*）、波形符（~）。</p><ul><li>使用问号（？）查找任何单个字符，例如 s?t 找到 &ldquo;sat&rdquo; 和 &ldquo;set&rdquo;。</li><li>使用星号（*）查找任意数量的字符，例如 s*d 可以找到 &ldquo;sad&rdquo;。</li><li>使用波形符（~），后跟？、* 或 ~ 查找问号、星号或其他波形符，其实就是用来转义。</li></ul><p><strong>常见的文本编辑器</strong>在尝试后发现基本都只能使用全字匹配，VSCode 可以勾选使用正则表达式。</p><p><strong>命令输入</strong>是典型的通配符使用场景，比较出名的是 Linux 下的 glob，用来匹配文件路径名。glob 的语法也很简单</p><ul><li>？ 匹配任意单个字符</li><li>* 匹配任意字符串，包括空串</li><li>[&mldr;] 匹配方括号中任意一个字符，比如[abc]匹配字符a, b, c中任意一个，方括号中不可为空。同时，可以使用 - 放在方括号中表示范围，使用! 放在方括号中表示非</li></ul><p>基本上 glob 通配符可以算作正则的简化。</p><h2 id=2-正则表达式>2. 正则表达式</h2><p>正则的目的是字符串模式匹配，实现查找与替换，正则的基本原理是有限状态自动机。</p><p>一个正则表达式的基本组成元素包括字符和元字符</p><ul><li>字符就是普通的计算机字符，比如字母、数字等</li><li>元字符是某类有特定含义的字符，比如 ^ 和 * 等</li></ul><h3 id=21-字符>2.1 字符</h3><p>单个的字符比如字母、数字等，是它们原本的含义。</p><p>一些功能字符无法直接表示，比如换行、回车等，需要在普通字符前面加上转义元字符 <code>\</code> 来表示，比如</p><table><thead><tr><th>字符</th><th>字符描述</th></tr></thead><tbody><tr><td>\n</td><td>换行符</td></tr><tr><td>\f</td><td>换页符</td></tr><tr><td>\r</td><td>回车符</td></tr><tr><td>\t</td><td>制表符</td></tr><tr><td>\v</td><td>垂直制表符</td></tr><tr><td>[\b]</td><td>回退符，之所以使用[]符号是避免和\b重复</td></tr></tbody></table><p>还有一部分是正则表达式特殊的规定，在普通字符前面使用转移字符表达特定含义，如下表</p><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td>\w</td><td>任意一个字母或数字或下划线</td></tr><tr><td>\W</td><td>任意一个字母或数字或下划线以外的字符</td></tr><tr><td>\s</td><td>空白字符，比如空格、tab、换行、换页</td></tr><tr><td>\S</td><td>非空白字符</td></tr><tr><td>\d</td><td>数字字符，0~9</td></tr><tr><td>\D</td><td>非数字字符</td></tr><tr><td>\b</td><td>单词边界</td></tr><tr><td>\B</td><td>非单词边界</td></tr></tbody></table><p>这里解释一下单词边界的含义，一般情况，单词指的是字母、数字、下划线构成的字符串，边界指的是一个具体的位置，而不是一个字符，比如对于字符串 <code>example:a+b=3</code>，用 | 表示位置，如下所示</p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>|e|x|a|m|p|l|e|:|a|+|b|=|3|</span></span></code></pre></td></tr></table></div></div><p>单词边界指的就是下面几个位置</p><div class=highlight id=id-2><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>|example|:|a|+|b|=|3|</span></span></code></pre></td></tr></table></div></div><p>非单词边界就更好理解了，不是单词边界的就是非单词边界</p><div class=highlight id=id-3><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>e|x|a|m|p|l|e:a+b=3</span></span></code></pre></td></tr></table></div></div><h3 id=22-元字符>2.2 元字符</h3><p>元字符是具有特定语义的字符，比如上面的转义字符 <code>\</code> 就是一个元字符，用于改变普通字符的含义。正则表达式中定义的常用元字符包括</p><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>.</td><td>匹配除了换行符外的任意一个字符</td></tr><tr><td>？</td><td>匹配同一个字符出现 0 次或 1 次</td></tr><tr><td>+</td><td>匹配同一个字符出现 1 次或多次</td></tr><tr><td>*</td><td>匹配同一个字符出现 0 次或 1 次或多次</td></tr></tbody></table><h4 id=量词>量词</h4><p><code>?</code>, <code>+</code>, <code>*</code>三个元字符我们通常称作量词，因为它们的作用是表示某个字符出现了多少次，除此之外，还可以声明更具体的出现次数</p><ul><li>{n} 表示字符出现 n 次，比如a{2}，匹配aa</li><li>{m,n} 表示字符出现最少 m 次，最多 n 次，比如a{1,3}，可以匹配aaa、aa、a</li><li>{m,} 表示字符出现 m-∞次，优先匹配∞次，比如a{1,}，可以匹配 aaaa&mldr;</li></ul><p>注意正则默认是贪婪的，凡是表示范围的量词，都优先匹配上限而不是下限。比如</p><div class=highlight id=id-4><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>a{1, 3} // 匹配字符串&#39;aaa&#39;的话，会匹配aaa而不是a</span></span></code></pre></td></tr></table></div></div><p>取消贪婪模式可以在量词后加 ？</p><div class=highlight id=id-5><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>a{1, 3}? // 匹配字符串&#39;aaa&#39;的话，会匹配a而不是aaa</span></span></code></pre></td></tr></table></div></div><h4 id=边界>边界</h4><p>边界的匹配是一个很重要的需求，主要包括三种</p><ol><li>使用 <code>^</code> 匹配开头，比如 <code>^abc</code> 表示以 abc 为开头的字符串</li><li>使用 <code>$</code> 匹配结尾，比如 <code>abc$</code> 表示以 abc 为结尾的字符串</li><li>使用 <code>\b</code> 匹配单词边界，比如我们想搜索单词 cat，结果 scattered 也会被搜索到，这时候就可以使用 <code>\b</code> 表示单词边界，使用方法为 <code>\bcat\b</code></li></ol><h4 id=集合>集合</h4><p>很多时候我们还需要匹配一个字符集合，比如，匹配 a,b,c 这三个字符中的任意一个，这种需求通过一对方括号实现</p><div class=highlight id=id-6><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[abc]</span></span></code></pre></td></tr></table></div></div><p>使用连字符可以表示一个范围</p><div class=highlight id=id-7><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[0-9] // 等于[0123456789]</span></span></code></pre></td></tr></table></div></div><p>使用 <code>^</code> 可以表示除了方括号中的字符以外的其它字符</p><div class=highlight id=id-8><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[^abc] // 表示除了 a,b,c 以外的其它字符</span></span></code></pre></td></tr></table></div></div><p>字符串的选择通过 <code>|</code> 来表达，实际上就是或的概念，比如</p><div class=highlight id=id-9><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>123|456  // 表示匹配 123 或者匹配456</span></span></code></pre></td></tr></table></div></div><h4 id=修饰符>修饰符</h4><p>在正则表达式的末尾添加修饰符可以更改某些正则默认的规则</p><ul><li>i ，正则默认区分大小写，i 可以忽略大小写</li><li>g，正则遇到第一个匹配的字符串就会结束，g 可以匹配所有符合条件的字符串</li><li>m，正则默认遇到换行结束，不匹配多行文本，m 可以匹配多行文本</li></ul><p>举一个多行匹配的例子，在下面的文本中匹配 <code>I am scq000</code> 这个句子，使用的正则表达式为 <code>/^I am scq000\.$/m</code></p><div class=highlight id=id-10><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>I am scq000.
</span></span><span class=line><span class=cl>I am scq000.
</span></span><span class=line><span class=cl>I am scq000.</span></span></code></pre></td></tr></table></div></div><h3 id=23-子表达式>2.3 子表达式</h3><p>利用上面的语法可以构成基本的正则表达式，通过对基本正则表达式的组合，可以推导出无限复杂的正则表达式，使用的基本思想是嵌套递归和自身引用，涉及的概念包括分组、回溯引用、预搜索。</p><h4 id=分组>分组</h4><p>就是利用成对的小括号 <code>()</code> 将一个正则表达式包围，包围以后就表示这是一个子表达式，子表达式是构成复杂正则表达式的基本单位。</p><p>一个简单的分组使用如下</p><div class=highlight id=id-11><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(abc){2} // 匹配abcabc</span></span></code></pre></td></tr></table></div></div><h4 id=回溯引用>回溯引用</h4><p>回溯引用指的是整个正则表达式后面的部分引用前面子表达式匹配到的字符串，类似于将前面的子表达式看作了一个变量。基本结构如下</p><div class=highlight id=id-12><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(子表达式1)(子表达式2)(子表达式3)\1\2\3</span></span></code></pre></td></tr></table></div></div><p><code>\1</code>代表第一个子表达式、<code>\2</code>代表第二个子表达式、<code>\3</code>代表第三个子表达式。以此类推，<code>\0</code> 一般表示整个表达式。</p><p>注：有些语言（比如JS）使用 <code>$</code> 而不是 <code>\</code></p><p>比如要在一段文本里匹配两个连续相同的单词，用简单的正则只能保证两个单词符号相同的规则，但不能保证它们相同</p><div class=highlight id=id-13><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hello what what is the first thing, and I am am scq000.</span></span></code></pre></td></tr></table></div></div><p>使用回溯就可以很容易的获得结果： <code>\b(\w+)\s\1\b</code>，后面的 <code>\1</code> 会再一次匹配前面的字符串本身。</p><p>如果某个子表达式不想被引用，可以使用 <code>(?:regex)</code>这样的表达方式，比如 <code>\b(?=\w+)\s\1\b</code> 这样的表达式就无法匹配到之前获得的结果了</p><h4 id=预搜索>预搜索</h4><p>预搜索是为了应对四种情况</p><ol><li><p>要求字符串前面必须是另一个字符串，比如要求 <code>ple</code> 前面必须是 <code>ap</code>，正则表达式为</p><div class=highlight id=id-14><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(?&lt;=ap)ple</span></span></code></pre></td></tr></table></div></div></li><li><p>要求字符串前面不能是另一个字符串，比如要求 <code>ple</code> 前面不能是 <code>ap</code>，正则表达式为</p><div class=highlight id=id-15><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(?&lt;!ap)ple // 可能匹配到 people</span></span></code></pre></td></tr></table></div></div></li><li><p>要求字符串后面必须是另外一个字符串，比如要求 <code>happ</code> 后面必须是 <code>ily</code>，正则表达式如下</p><div class=highlight id=id-16><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>happ(?=ily)</span></span></code></pre></td></tr></table></div></div></li><li><p>要求字符串后面不能是另外一个字符，使用 <code>!</code> 表示非的含义即可</p><div class=highlight id=id-17><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>happ(?!ily) // 表示happy 不能是 ily，可能匹配到 happy</span></span></code></pre></td></tr></table></div></div></li></ol><p>还有一些正则可能用到的工具</p><ul><li><a href="https://jex.im/regulex/#!flags=&amp;re=" target=_blank rel="external nofollow noopener noreferrer">Regulex</a>：用有限状态自动机可视化正则表达式</li><li><a href=https://oktools.net/regex target=_blank rel="external nofollow noopener noreferrer">OKTools</a>：在线正则表达式测试</li></ul><h2 id=3-区别>3. 区别</h2><p>通配符和正则表达式的区别比较明显，</p><ol><li>通配符语法比正则表达式简单很多</li><li>通配符一般用于文件路径名匹配，正则表达式一般用于字符串匹配</li></ol><p>所以在命令行中，与路径相关的命令，比如 cp, ls, find 等，都使用通配符；而与字符串匹配相关的命令，比如 grep，使用正则表达式。</p><p>Office 或者编程基本上是对字符串的匹配，因此一般使用正则表达式。</p><h2 id=参考>参考</h2><p>[1] Office 支持，<a href=https://support.microsoft.com/zh-cn/office/%e5%9c%a8%e6%90%9c%e7%b4%a2%e4%b8%ad%e4%bd%bf%e7%94%a8%e9%80%9a%e9%85%8d%e7%ac%a6%e5%ad%97%e7%ac%a6-ef94362e-9999-4350-ad74-4d2371110adb target=_blank rel="external nofollow noopener noreferrer">在搜索中使用通配符</a></p><p>[2] 掘金，<a href=https://juejin.im/post/6844903845227659271 target=_blank rel="external nofollow noopener noreferrer">正则表达式不要背</a></p><p>[3] 知乎，<a href=https://zhuanlan.zhihu.com/p/28672572 target=_blank rel="external nofollow noopener noreferrer">正则表达式教程-语法篇</a></p><p>[4] CSDN，<a href=https://blog.csdn.net/weini1111/article/details/72896874 target=_blank rel="external nofollow noopener noreferrer">通配符和正则表达式的区别</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2020-09-02 00:00:00">更新于 2020-09-02&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2020/regular-expression-basic-syntax/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2020/regular-expression-basic-syntax/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2020/regular-expression-basic-syntax/ data-title=正则表达式与通配符><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/linux/ class=post-tag>linux</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2020/algorithm-stings/ class=post-nav-item rel=prev title=算法-字符串类问题><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>算法-字符串类问题</a>
<a href=/2020/windows-linux-unix-and-macos/ class=post-nav-item rel=next title="Windows、Linux、Unix和 macOS">Windows、Linux、Unix和 macOS<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=/images/alipay.png srcset="/images/alipay.png, /images/alipay.png 1.5x, /images/alipay.png 2x" sizes=auto data-title="Shuzang 支付宝" data-alt="Shuzang 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=/images/wechatpay.png srcset="/images/wechatpay.png, /images/wechatpay.png 1.5x, /images/wechatpay.png 2x" sizes=auto data-title="Shuzang 微信" data-alt="Shuzang 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.117.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=/>Shuzang</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/twemoji/twemoji.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>