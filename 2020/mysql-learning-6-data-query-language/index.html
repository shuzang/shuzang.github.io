<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Mysql学习6-操作表中数据 - Shuzang's Blog</title><meta name=author content="Shuzang"><meta name=author-link content><meta name=description content="本文详细介绍 对表中数据 的增删查改操作。"><meta name=keywords content="计算机基础"><meta itemprop=name content="Mysql学习6-操作表中数据"><meta itemprop=description content="本文详细介绍 对表中数据 的增删查改操作。"><meta itemprop=datePublished content="2020-05-24T17:03:00+08:00"><meta itemprop=dateModified content="2020-09-13T00:00:00+00:00"><meta itemprop=wordCount content="9766"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="计算机基础,"><meta property="og:title" content="Mysql学习6-操作表中数据"><meta property="og:description" content="本文详细介绍 对表中数据 的增删查改操作。"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2020/mysql-learning-6-data-query-language/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-24T17:03:00+08:00"><meta property="article:modified_time" content="2020-09-13T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="Mysql学习6-操作表中数据"><meta name=twitter:description content="本文详细介绍 对表中数据 的增删查改操作。"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2020/mysql-learning-6-data-query-language/><link rel=prev href=https://shuzang.github.io/2020/mysql-learning-5-constraints-and-operators/><link rel=next href=https://shuzang.github.io/2020/golang-interact-with-mysql/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Mysql学习6-操作表中数据","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2020\/mysql-learning-6-data-query-language\/"},"genre":"posts","keywords":"计算机基础","wordcount":9766,"url":"https:\/\/shuzang.github.io\/2020\/mysql-learning-6-data-query-language\/","datePublished":"2020-05-24T17:03:00+08:00","dateModified":"2020-09-13T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Shuzang"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=/images/avatar.png data-alt=/images/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Mysql学习6-操作表中数据</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img loading=lazy src=/images/avatar.png srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" sizes=auto data-title=Shuzang data-alt=Shuzang class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Shuzang</span></span>
<span class=post-category>收录于 <a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 爱编程爱技术的孩子</a></span></div><div class=post-meta-line><span title="发布于 2020-05-24 17:03:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2020-05-24>2020-05-24</time></span>&nbsp;<span title="更新于 2020-09-13 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2020-09-13>2020-09-13</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 9766 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 20 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-查询数据>1. 查询数据</a><ul><li><a href=#11-基本查询>1.1 基本查询</a></li><li><a href=#12-条件查询>1.2 条件查询</a><ul><li><a href=#空值查询>空值查询</a></li><li><a href=#范围查询>范围查询</a></li><li><a href=#innot-in>IN/NOT IN</a></li><li><a href=#模糊查询>模糊查询</a></li></ul></li><li><a href=#13-分组查询>1.3 分组查询</a><ul><li><a href=#单个字段分组>单个字段分组</a></li><li><a href=#多个字段分组>多个字段分组</a></li><li><a href=#聚合函数>聚合函数</a></li><li><a href=#with-rollup>WITH ROLLUP</a></li></ul></li><li><a href=#14-过滤分组>1.4 过滤分组</a></li><li><a href=#15-排序>1.5 排序</a></li><li><a href=#16-去重>1.6 去重</a></li><li><a href=#17-设置别名>1.7 设置别名</a></li><li><a href=#18-限制查询结果的条数>1.8 限制查询结果的条数</a></li><li><a href=#19-多表查询>1.9 多表查询</a><ul><li><a href=#交叉连接>交叉连接</a></li><li><a href=#内连接>内连接</a></li><li><a href=#外连接>外连接</a></li></ul></li><li><a href=#110-子查询>1.10 子查询</a></li><li><a href=#111-正则表达式查询>1.11 正则表达式查询</a></li></ul></li><li><a href=#2-插入数据>2. 插入数据</a></li><li><a href=#3-修改数据>3. 修改数据</a></li><li><a href=#4-删除数据>4. 删除数据</a></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2020-09-13，文中内容可能已过时。</div></div></div><p>本文详细介绍 <strong>对表中数据</strong> 的增删查改操作。</p><h2 id=1-查询数据>1. 查询数据</h2><p>查询表中数据所涉及的命令是最多的，一个基本的语法格式如下</p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=err>{</span><span class=o>*</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段列名</span><span class=o>&gt;</span><span class=err>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=w> </span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=w> </span><span class=mi>2</span><span class=o>&gt;</span><span class=err>…</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>&lt;</span><span class=n>join_type</span><span class=o>&gt;</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=o>&lt;</span><span class=n>join_table</span><span class=o>&gt;</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=n>join_condition</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=o>&lt;</span><span class=err>表达式</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>definition</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=err>{</span><span class=o>&lt;</span><span class=n>operator</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=err>}…</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>definition</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LIMIT</span><span class=w> </span><span class=p>[</span><span class=o>&lt;</span><span class=n>offset</span><span class=o>&gt;</span><span class=p>,]</span><span class=w> </span><span class=o>&lt;</span><span class=n>row</span><span class=w> </span><span class=n>count</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>这里简单解释各条子句的含义，</p><ul><li><code>SELECT {*|&lt;字段列名>}</code> 表示所要查询字段的名称。</li><li><code>FROM &lt;表 1>，&lt;表 2>…</code>，表示查询数据的来源，可以是单个或多个表。</li><li><code>WHERE &lt;表达式></code> 限定查询数据必须满足的查询条件。</li><li><code>GROUP BY&lt; 字段 ></code> 告诉 MySQL 如何显示查询出来的数据，并按照指定的字段分组。</li><li><code>ORDER BY&lt; 字段 ></code> 告诉 MySQL 按什么样的顺序显示查询出来的数据。</li><li><code>LIMIT[，]</code>，该子句告诉 MySQL 每次显示多少条查询出来的数据。</li></ul><h3 id=11-基本查询>1.1 基本查询</h3><p>使用 <code>*</code> 通配符可以查询整个表的数据</p><div class=highlight id=id-2><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=err>表名</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>下面的表将是后面所有语句执行的基表</p><div class=highlight id=id-3><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>dept_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>31</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>11</span><span class=o>-</span><span class=mi>11</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>26</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>9</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>       </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>07</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>08</span><span class=o>-</span><span class=mi>05</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>26</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>如果在 SELECT 命令后指定字段名，则结果只显示这些字段，相当于投影操作</p><div class=highlight id=id-4><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span><span class=o>&lt;</span><span class=err>字段名</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span><span class=err>…</span><span class=p>,</span><span class=o>&lt;</span><span class=err>字段名</span><span class=n>n</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=o>&gt;</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>查询多个字段的示例如下</p><div class=highlight id=id-5><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>height</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>9</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=12-条件查询>1.2 条件查询</h3><p>使用 WHERE 关键字来指定查询条件，相当于选择操作。查询条件可以是：</p><ul><li>带比较运算符和逻辑运算符的查询条件</li><li>带 IS NULL 或 IS NOT NULL 关键字的查询条件</li><li>带 BETWEEN AND 关键字的查询条件</li><li>带 IN 或 NOT IN 关键字的查询条件</li><li>带 LIKE 关键字的查询条件</li></ul><p>查询条件可以是一条，也可以是多条，如下例</p><div class=highlight id=id-6><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 单一条件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>height</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>height</span><span class=o>=</span><span class=mi>170</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>17</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 多条件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>height</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>age</span><span class=o>&gt;</span><span class=mi>21</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>height</span><span class=o>&gt;=</span><span class=mi>175</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>比较运算符和逻辑运算符的时候大家都很熟悉，下面介绍其它几种运算</p><h4 id=空值查询>空值查询</h4><p>IS NULL 和 IS NOT NULL 关键字用来进行判空查询，判断某个元组的分量是不是等于 NULL。</p><p>这里要注意的是 MySQL 中空值不等于 0，也不等于空字符串。一个使用示例如下</p><div class=highlight id=id-7><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>`</span><span class=n>name</span><span class=o>`</span><span class=p>,</span><span class=o>`</span><span class=n>login_date</span><span class=o>`</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=no>NULL</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>NAME</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>6</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=范围查询>范围查询</h4><p>BETWEEN AND 关键字用来进行范围查询，判断某个属性是否在指定的范围内，语法格式如下</p><div class=highlight id=id-8><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=p>[</span><span class=k>NOT</span><span class=p>]</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=err>取值</span><span class=mi>1</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=err>取值</span><span class=mi>2</span></span></span></code></pre></td></tr></table></div></div><p>使用示例如下</p><div class=highlight id=id-9><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=mi>20</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=mi>23</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>8</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=innot-in>IN/NOT IN</h4><p>MySQL 中的 IN 用来判断表达式的值是否位于给出的列表中；如果是，返回值为 1，否则返回值为 0。语法格式如下</p><div class=highlight id=id-10><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>expr</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=n>value1</span><span class=p>,</span><span class=w> </span><span class=n>value2</span><span class=p>,</span><span class=w> </span><span class=n>value3</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=n>valueN</span><span class=w> </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>expr</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=n>value1</span><span class=p>,</span><span class=w> </span><span class=n>value2</span><span class=p>,</span><span class=w> </span><span class=n>value3</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=n>valueN</span><span class=w> </span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>示例如下</p><div class=highlight id=id-11><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=s1>&#39;this&#39;</span><span class=p>),</span><span class=w> </span><span class=s1>&#39;this&#39;</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=s1>&#39;this&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------------+------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=s1>&#39;this&#39;</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s1>&#39;this&#39;</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=s1>&#39;this&#39;</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------------+------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>                   </span><span class=mi>0</span><span class=w> </span><span class=o>|</span><span class=w>                            </span><span class=mi>0</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------------+------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=nf>warnings</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>当 IN 运算符的两侧有一个为空值 NULL 时，如果找不到匹配项，则返回值为 NULL；如果找到了匹配项，则返回值为 1。</p><p>NOT IN 的作用和 IN 恰好相反。</p><h4 id=模糊查询>模糊查询</h4><p>使用 LIKE 关键字可以搜索匹配字段中的指定内容，语法格式如下</p><div class=highlight id=id-12><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=p>[</span><span class=k>NOT</span><span class=p>]</span><span class=w> </span><span class=k>LIKE</span><span class=w>  </span><span class=s1>&#39;字符串&#39;</span></span></span></code></pre></td></tr></table></div></div><ul><li>NOT ：可选参数，字段中的内容与指定的字符串不匹配时满足条件。</li><li>字符串：指定用来匹配的字符串。“字符串”可以是一个很完整的字符串，也可以包含通配符。</li></ul><p>LIKE 关键字支持百分号 <code>%</code> 和下划线 <code>_</code> 通配符。</p><div class=highlight id=id-13><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># %通配符,代表任何长度的字符串，字符串的长度可以为 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;T%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>12</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># _通配符,只能代表单个字符，字符的长度不能为 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;____y&#39;</span><span class=p>;</span><span class=w> </span><span class=c1># 4个下划线
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>默认情况下，LIKE 关键字匹配字符的时候是不区分大小写的。如果需要区分大小写，可以加入 BINARY 关键字。</p><div class=highlight id=id-14><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=k>BINARY</span><span class=w> </span><span class=s1>&#39;t%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Empty</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>如果查询内容中包含通配符，可以使用“\”转义符</p><div class=highlight id=id-15><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>test</span><span class=p>.</span><span class=o>`</span><span class=n>tb_students_info</span><span class=o>`</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;%\%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>NAME</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=o>%</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=13-分组查询>1.3 分组查询</h3><p>通过 WHERE 子句筛选后，可能会使用 GROUP BY 关键字根据一个或多个字段对查询结果进行分组。语法格式如下</p><div class=highlight id=id-16><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w>  </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>其中，&lt;字段名> 表示需要分组的字段名称，多个字段时用逗号隔开。</p><h4 id=单个字段分组>单个字段分组</h4><p>单独使用时，查询结果只显示每个分组的第一条记录，但要记得，每个分组一般不会只有这一条记录</p><div class=highlight id=id-17><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>`</span><span class=n>name</span><span class=o>`</span><span class=p>,</span><span class=o>`</span><span class=n>sex</span><span class=o>`</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>sex</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>使用 GROUP_CONCAT() 函数可以在一条记录中把该分组所有的结果显示出来</p><div class=highlight id=id-18><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>`</span><span class=n>sex</span><span class=o>`</span><span class=p>,</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>sex</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+----------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+----------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=p>,</span><span class=n>Jim</span><span class=p>,</span><span class=n>John</span><span class=p>,</span><span class=n>Thomas</span><span class=p>,</span><span class=n>Tom</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=p>,</span><span class=n>Green</span><span class=p>,</span><span class=n>Jane</span><span class=p>,</span><span class=n>Lily</span><span class=p>,</span><span class=n>Susan</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+----------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=多个字段分组>多个字段分组</h4><p>多个字段分组查询时，会先按照第一个字段进行分组。如果第一个字段中有相同的值，MySQL 才会按照第二个字段进行分组。如果第一个字段中的数据都是唯一的，那么 MySQL 将不再对第二个字段进行分组。</p><div class=highlight id=id-19><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>,</span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+--------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+--------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>               </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w>             </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=p>,</span><span class=n>Lily</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=p>,</span><span class=n>Tom</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=p>,</span><span class=n>Susan</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>                </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>               </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+--------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>7</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=聚合函数>聚合函数</h4><p>聚合函数包括 COUNT()，SUM()，AVG()，MAX() 和 MIN()。其中，COUNT() 用来统计记录的条数；SUM() 用来计算字段值的总和；AVG() 用来计算字段值的平均值；MAX() 用来查询字段的最大值；MIN() 用来查询字段的最小值。这些都是分组查询时常用的函数。</p><div class=highlight id=id-20><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>sex</span><span class=p>,</span><span class=nf>COUNT</span><span class=p>(</span><span class=n>sex</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>sex</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=n>sex</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>          </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>          </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=with-rollup>WITH ROLLUP</h4><p>WITH POLLUP 关键字用来在所有记录的最后加上一条记录，这条记录是上面所有记录的总和，即统计记录数量。</p><div class=highlight id=id-21><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>sex</span><span class=p>,</span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>ROLLUP</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------------------------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w>                                   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------------------------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=p>,</span><span class=n>Jim</span><span class=p>,</span><span class=n>John</span><span class=p>,</span><span class=n>Thomas</span><span class=p>,</span><span class=n>Tom</span><span class=w>                            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=p>,</span><span class=n>Green</span><span class=p>,</span><span class=n>Jane</span><span class=p>,</span><span class=n>Lily</span><span class=p>,</span><span class=n>Susan</span><span class=w>                           </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=p>,</span><span class=n>Jim</span><span class=p>,</span><span class=n>John</span><span class=p>,</span><span class=n>Thomas</span><span class=p>,</span><span class=n>Tom</span><span class=p>,</span><span class=n>Dany</span><span class=p>,</span><span class=n>Green</span><span class=p>,</span><span class=n>Jane</span><span class=p>,</span><span class=n>Lily</span><span class=p>,</span><span class=n>Susan</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------------------------------------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=14-过滤分组>1.4 过滤分组</h3><p>在 MySQL 中，可以使用 HAVING 子句对分组后的数据进行过滤。语法格式如下</p><div class=highlight id=id-22><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>HAVING</span><span class=w> </span><span class=o>&lt;</span><span class=err>查询条件</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>HAVING 关键字和 WHERE 关键字都可以用来过滤数据，且 HAVING 支持 WHERE 关键字中所有的操作符和语法。但是 WHERE 和 HAVING 关键字也存在以下几点差异：</p><ul><li>一般情况下，WHERE 用于过滤数据行，而 HAVING 用于过滤分组。</li><li>WHERE 查询条件中不可以使用聚合函数，而 HAVING 查询条件中可以使用聚合函数。</li><li>WHERE 在数据分组前进行过滤，而 HAVING 在数据分组后进行过滤 。</li><li>WHERE 查询条件中不可以使用字段别名，而 HAVING 查询条件中可以使用字段别名。</li></ul><div class=highlight id=id-23><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 使用 WHERE
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>sex</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>height</span><span class=o>&gt;</span><span class=mi>150</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 使用 HAVING
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>),</span><span class=n>sex</span><span class=p>,</span><span class=n>height</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>height</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>HAVING</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>height</span><span class=p>)</span><span class=o>&gt;</span><span class=mi>170</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=nf>GROUP_CONCAT</span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>               </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>                </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w>             </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>              </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------+------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=15-排序>1.5 排序</h3><p>ORDER BY 关键字用来将查询结果中的数据按照一定的顺序进行排序。其语法格式如下：</p><div class=highlight id=id-24><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>ASC</span><span class=o>|</span><span class=k>DESC</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>语法说明如下。</p><ul><li>字段名：表示需要排序的字段名称，多个字段时用逗号隔开。</li><li>ASC|DESC：<code>ASC</code>表示字段按升序排序；<code>DESC</code>表示字段按降序排序。其中<code>ASC</code>为默认值。</li></ul><p>使用 ORDER BY 关键字应该注意以下几个方面：</p><ul><li>ORDER BY 关键字后可以跟子查询。</li><li>当排序的字段中存在空值时，ORDER BY 会将该空值作为最小值来对待。</li><li>在对多个字段进行排序时，排序的第一个字段必须有相同的值，才会对第二个字段进行排序。如果第一个字段数据中所有的值都是唯一的，MySQL 将不再对第二个字段进行排序。</li></ul><div class=highlight id=id-25><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 单字段排序
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>dept_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>26</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>08</span><span class=o>-</span><span class=mi>05</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>11</span><span class=o>-</span><span class=mi>11</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>9</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>       </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>07</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>31</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>08</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 多字段排序
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>height</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>09</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>默认情况下，查询数据按字母升序进行排序（A～Z），但数据的排序并不仅限于此，还可以使用 ORDER BY 中的 DESC 对查询结果进行降序排序（Z～A）。</p><h3 id=16-去重>1.6 去重</h3><p>SELECT 选择属性列后，新表可能出现重复的元组，可以使用 DISTINCT 关键字去重</p><div class=highlight id=id-26><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>其中，“字段名”为需要消除重复记录的字段名称，多个字段时用逗号隔开。</p><p>使用 DISTINCT 关键字时需要注意以下几点：</p><ul><li>DISTINCT 关键字只能在 SELECT 语句中使用。</li><li>在对一个或多个字段去重时，DISTINCT 关键字必须在所有字段的最前面。</li><li>如果 DISTINCT 关键字后有多个字段，则会对多个字段进行组合去重，也就是说，只有多个字段组合起来完全是一样的情况下才会被去重。</li></ul><p>示例如下</p><div class=highlight id=id-27><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 原表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>test</span><span class=p>.</span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+----------+------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>stuno</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+----------+------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>zhangsan</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>lisi</span><span class=w>     </span><span class=o>|</span><span class=w>   </span><span class=mi>19</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>wangwu</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>zhaoliu</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>26</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>zhangsan</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>27</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>wangwu</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>28</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+----------+------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>6</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 对 name 和 age 字段搜索结果去重
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>zhangsan</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>lisi</span><span class=w>     </span><span class=o>|</span><span class=w>   </span><span class=mi>19</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>wangwu</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>zhaoliu</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>18</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>wangwu</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>5</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>因为 DISTINCT 只能返回它的目标字段，而无法返回其它字段，所以在实际情况中，我们经常使用 DISTINCT 关键字来返回不重复字段的条数。</p><div class=highlight id=id-28><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>                        </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>值得一提的是，聚合函数中也有 DISTINCT 的选项，如下</p><div class=highlight id=id-29><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=nf>AVG</span><span class=p>([</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=n>expr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nf>COUNT</span><span class=p>(</span><span class=err>{</span><span class=o>*|</span><span class=p>[</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=err>}</span><span class=w> </span><span class=n>expr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nf>MAX</span><span class=p>([</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=n>expr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nf>MIN</span><span class=p>([</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=n>expr</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nf>SUM</span><span class=p>([</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=n>expr</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>这意味着 HAVING 子句也可以出现该关键字，比如</p><div class=highlight id=id-30><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>courses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>student</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>5</span></span></span></code></pre></td></tr></table></div></div><h3 id=17-设置别名>1.7 设置别名</h3><p>当表名或字段名很长或者执行一些特殊查询的时候，为了查询方便，可以使用 AS 关键字来为表和字段指定别名。</p><p>注意：表的别名不能与该数据库的其它表同名。字段的别名不能与该表的其它字段同名。在条件表达式中不能使用字段的别名，否则会出现 <code>ERROR 1054 (42S22): Unknown column</code> 这样的错误提示信息。</p><p>语法格式如下，其中 AS 关键字可省略，省略后原名和别名用空格隔开</p><div class=highlight id=id-31><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>AS</span><span class=p>]</span><span class=w> </span><span class=o>&lt;</span><span class=err>别名</span><span class=o>&gt;</span><span class=w> </span><span class=c1># 为表指定别名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>AS</span><span class=p>]</span><span class=w> </span><span class=o>&lt;</span><span class=err>别名</span><span class=o>&gt;</span><span class=w> </span><span class=c1># 为字段指定别名</span></span></span></code></pre></td></tr></table></div></div><p>示例如下</p><div class=highlight id=id-32><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 为表指定别名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>stu</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=n>stu</span><span class=p>.</span><span class=n>height</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>stu</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>04</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 为字段指定别名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>student_name</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>student_age</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>student_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>student_age</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>         </span><span class=o>|</span><span class=w>          </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>        </span><span class=o>|</span><span class=w>          </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>        </span><span class=o>|</span><span class=w>          </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>         </span><span class=o>|</span><span class=w>          </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>          </span><span class=o>|</span><span class=w>          </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>         </span><span class=o>|</span><span class=w>          </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>         </span><span class=o>|</span><span class=w>          </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>        </span><span class=o>|</span><span class=w>          </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w>       </span><span class=o>|</span><span class=w>          </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>          </span><span class=o>|</span><span class=w>          </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=18-限制查询结果的条数>1.8 限制查询结果的条数</h3><p>使用 LIMIT 关键字限制查询结果返回的条数。LIMIT 关键字有 3 种使用方式，即指定初始位置、不指定初始位置以及与 OFFSET 组合使用。</p><p>基本语法格式如下，第一条记录的位置是 0，两个参数必须都是正整数。</p><div class=highlight id=id-33><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>LIMIT</span><span class=w> </span><span class=err>初始位置，记录数</span></span></span></code></pre></td></tr></table></div></div><p>示例</p><div class=highlight id=id-34><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>dept_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>   </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>15</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>11</span><span class=o>-</span><span class=mi>11</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>26</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w> </span><span class=o>|</span><span class=w>       </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>5</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>省略初始位置时默认从第一条记录开始，如果表中剩余记录数不够，则返回所有剩余记录</p><div class=highlight id=id-35><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>4</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>dept_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>login_date</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w> </span><span class=o>|</span><span class=w>       </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w> </span><span class=o>|</span><span class=w>       </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>M</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2015</span><span class=o>-</span><span class=mi>05</span><span class=o>-</span><span class=mi>31</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>  </span><span class=o>|</span><span class=w>       </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>F</span><span class=w>    </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>2016</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------+---------+------+------+--------+------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>LIMIT 可以和 OFFSET 组合使用，不过仅仅是换了一种写法，没有其它语义</p><div class=highlight id=id-36><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>LIMIT</span><span class=w> </span><span class=err>记录数</span><span class=w> </span><span class=n>OFFSET</span><span class=w> </span><span class=err>初始位置</span></span></span></code></pre></td></tr></table></div></div><h3 id=19-多表查询>1.9 多表查询</h3><p>前面所讲的查询语句都是针对一个表的，但是在关系型数据库中，表与表之间是有联系的，所以在实际应用中，经常使用多表查询。多表查询就是同时查询两个或两个以上的表，主要有交叉连接、内连接和外连接。</p><h4 id=交叉连接>交叉连接</h4><p>交叉连接（CROSS JOIN）一般用来返回连接表的笛卡尔积。语法格式如下</p><div class=highlight id=id-37><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>1</span><span class=o>&gt;</span><span class=w> </span><span class=k>CROSS</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>2</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=n>WHERE子句</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>2</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=n>WHERE子句</span><span class=p>]</span><span class=w> </span></span></span></code></pre></td></tr></table></div></div><p>以上两种语法的返回结果是相同的，但是第一种语法是官方建议的标准写法。</p><p>当存在 WHERE 语句时，执行完交叉连接会执行筛选，当没有 WHERE 语句，返回的就是完整的笛卡尔积，但是，不管哪种情况，都会先生成完整的笛卡尔积结果，这个结果中包含的元组数目非常大，所以一般不建议使用交叉连接。</p><p>为了减少结果结果中数据行的数目，应尽量使用内连接，内连接使用 ON 关键字设置连接条件。我们从 WHERE 语句 和 ON 语句的执行顺序可以理解这一点，WHERE 在 连接之后执行，而 ON 语句在连接之前进行。</p><h4 id=内连接>内连接</h4><p>内连接（INNER JOIN）就是利用条件表达式来消除交叉连接的某些数据行。</p><p>内连接使用 INNER JOIN 关键字连接两张表，并使用 ON 子句来设置连接条件。如果没有连接条件，INNER JOIN 和 CROSS JOIN 在语法上是等同的，两者可以互换，因此 ON 子句的作用比较重要。内连接的语法格式如下</p><div class=highlight id=id-38><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>1</span><span class=o>&gt;</span><span class=w> </span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>2</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=n>ON子句</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>示例</p><div class=highlight id=id-39><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=n>c</span><span class=p>.</span><span class=n>course_name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=n>c</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>course_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Python</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Go</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Go</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>10</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>注意：当对多个表进行查询时，要在 SELECT 语句后面指定字段是来源于哪一张表。因此，在多表查询时，SELECT 语句后面的写法是表名.列名。另外，如果表名非常长的话，也可以给表设置别名，这样就可以直接在 SELECT 语句后面写上表的别名.列名。</p><h4 id=外连接>外连接</h4><p>内连接的查询结果都是符合连接条件的记录，而外连接会先将连接的表分为基表和参考表，再以基表为依据返回满足和不满足条件的记录。外连接可以分为左外连接和右外连接。</p><p><strong>左外连接</strong>使用 LEFT OUTER JOIN 关键字，语法格式如下</p><div class=highlight id=id-40><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=err>字段名</span><span class=o>&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>1</span><span class=o>&gt;</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>OUTER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>2</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=n>ON子句</span><span class=o>&gt;</span></span></span></code></pre></td></tr></table></div></div><p>上述语法中，“表1”为基表，“表2”为参考表。左外连接查询时，可以查询出“表1”中的所有记录和“表2”中匹配连接条件的记录。如果“表1”的某行在“表2”中没有匹配行，那么在返回结果中，“表2”的字段值均为空值（NULL）。示例如下</p><div class=highlight id=id-41><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 两张原始表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_course</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Python</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Go</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>HTML</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>6</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>9</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>11</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>LiMing</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>180</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>11</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 左外连接查询结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=n>c</span><span class=p>.</span><span class=n>course_name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>OUTER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=n>c</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=o>`</span><span class=n>course_id</span><span class=o>`=</span><span class=n>c</span><span class=p>.</span><span class=o>`</span><span class=n>id</span><span class=o>`</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Python</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Go</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>Go</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=o>++</span><span class=w>         </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>LiMing</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>12</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><strong>右外连接</strong> 是左外连接的反向连接，使用 RIGHT OUTER JOIN 关键字，大致内容相同，不再赘述。</p><h3 id=110-子查询>1.10 子查询</h3><p>子查询指将一个查询语句嵌套在另一个查询语句中，通过这种方式可以实现多表查询。子查询可以在 SELECT、INSERT、UPDATE 和 DELETE 语句中使用，而且可以进行多层嵌套。</p><p>子查询可以在使用表达式的任何地方使用，不过在实际开发时出现在 WHERE 子句和 FROM 子句中比较多。语法格式如下</p><div class=highlight id=id-42><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=o>&lt;</span><span class=err>表达式</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>操作符</span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=err>子查询</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>其中，操作符可以是比较运算符和 IN、NOT IN、EXISTS、NOT EXISTS 等关键字。</p><ol><li><p><strong>IN | NOT IN</strong>：当表达式与子查询返回的结果集中的某个值相等时，返回 TRUE，否则返回 FALSE；若使用关键字 NOT，则返回值正好相反。</p><div class=highlight id=id-43><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Java&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>EXISTS | NOT EXISTS</strong>：用于判断子查询的结果集是否为空，若子查询的结果集不为空，返回 TRUE，否则返回 FALSE；若使用关键字 NOT，则返回的值正好相反。</p><div class=highlight id=id-44><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=k>EXISTS</span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Dany</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>25</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>160</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Green</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>158</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>185</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Lily</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>8</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Susan</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>170</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>9</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Thomas</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>178</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Tom</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>165</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>11</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>LiMing</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>180</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>7</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+--------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>11</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div></li></ol><p>习惯上，外层的 SELECT 查询称为父查询，圆括号中嵌入的查询称为子查询（子查询必须放在圆括号内）。MySQL 在处理上例的 SELECT 语句时，执行流程为：先执行子查询，再执行父查询。</p><p>子查询的功能也可以通过表连接完成，但是子查询会使 SQL 语句更容易阅读和编写。一般来说，表连接（内连接和外连接等）都可以用子查询替换，但反过来却不一定，有的子查询不能用表连接来替换。子查询比较灵活、方便、形式多样，适合作为查询的筛选条件，而表连接更适合于查看连接表的数据。</p><h3 id=111-正则表达式查询>1.11 正则表达式查询</h3><p>MySQL 中，使用 <strong>REGEXP</strong> 关键字指定正则表达式的字符匹配模式，其基本语法格式如下：</p><div class=highlight id=id-45><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=err>属性名</span><span class=w> </span><span class=k>REGEXP</span><span class=w> </span><span class=s1>&#39;匹配方式&#39;</span></span></span></code></pre></td></tr></table></div></div><p>其中，“属性名”表示需要查询的字段名称；“匹配方式”表示以哪种方式来匹配查询，符合正则表达式的写法。一个示例如下</p><div class=highlight id=id-46><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_students_info</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>REGEXP</span><span class=w> </span><span class=s1>&#39;^J&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jane</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>22</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>162</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Jim</span><span class=w>  </span><span class=o>|</span><span class=w>   </span><span class=mi>24</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>175</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>John</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>21</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>   </span><span class=o>|</span><span class=w>    </span><span class=mi>172</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+----+------+------+------+--------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>01</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h2 id=2-插入数据>2. 插入数据</h2><p>INSERT 语句有两种语法形式，分别是 INSERT…VALUES 语句和 INSERT…SET 语句。</p><ol><li><p>INSERT…VALUES</p><div class=highlight id=id-47><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=mi>1</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=err>…</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=n>n</span><span class=o>&gt;</span><span class=p>]</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=p>[</span><span class=err>…</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=n>n</span><span class=p>)</span><span class=w> </span><span class=p>];</span></span></span></code></pre></td></tr></table></div></div><p>语法说明如下。</p><ul><li><code>&lt;表名></code>：指定被操作的表名。</li><li><code>&lt;列名></code>：指定需要插入数据的列名。若向表中的所有列插入数据，则全部的列名均可以省略，直接采用 INSERT&lt;表名>VALUES(…) 即可。</li><li><code>VALUES</code> 或 <code>VALUE</code> 子句：该子句包含要插入的数据清单。数据清单中数据的顺序要和列的顺序相对应。</li></ul></li><li><p>INSERT…SET</p><div class=highlight id=id-48><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>SET</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=mi>1</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&lt;</span><span class=err>值</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>&lt;</span><span class=err>列名</span><span class=mi>2</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&lt;</span><span class=err>值</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>…</span></span></span></code></pre></td></tr></table></div></div><p>此语句用于直接给表中的某些列指定对应的列值，即要插入的数据的列名在 SET 子句中指定，col_name 为指定的列名，等号后面为指定的数据，而对于未指定的列，列值会指定为该列的默认值。</p><p>由 INSERT 语句的两种形式可以看出：</p><ul><li>使用 INSERT…VALUES 语句可以向表中插入一行数据，也可以插入多行数据；</li><li>使用 INSERT…SET 语句可以指定插入行中每列的值，也可以指定部分列的值；</li><li>INSERT…SELECT 语句向表中插入其他表的数据。</li><li>采用 INSERT…SET 语句可以向表中插入部分列的值，这种方式更为灵活；</li><li>INSERT…VALUES 语句可以一次插入多条数据。</li></ul></li></ol><p>在 MySQL 中，用单条 INSERT 语句处理多个插入要比使用多条 INSERT 语句更快。</p><p>当使用单条 INSERT 语句插入多行数据的时候，只需要将每行数据用圆括号括起来即可。</p><div class=highlight id=id-49><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>tb_courses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=p>(</span><span class=n>course_name</span><span class=p>,</span><span class=n>course_grade</span><span class=p>,</span><span class=n>course_info</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;System&#39;</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=s1>&#39;Operation System&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>08</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_info</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Network</span><span class=w>     </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Computer</span><span class=w> </span><span class=n>Network</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Database</span><span class=w>    </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w> </span><span class=n>EE</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>System</span><span class=w>      </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Operating</span><span class=w> </span><span class=n>System</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>可以使用 INSERT INTO…SELECT…FROM 语句从一个或多个表中取出数据，并将这些数据作为行数据插入另一个表中。</p><div class=highlight id=id-50><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>tb_courses_new</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=p>(</span><span class=n>course_id</span><span class=p>,</span><span class=n>course_name</span><span class=p>,</span><span class=n>course_grade</span><span class=p>,</span><span class=n>course_info</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>course_id</span><span class=p>,</span><span class=n>course_name</span><span class=p>,</span><span class=n>course_grade</span><span class=p>,</span><span class=n>course_info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>17</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Records</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=w>  </span><span class=n>Duplicates</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=w>  </span><span class=n>Warnings</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses_new</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_info</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Network</span><span class=w>     </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Computer</span><span class=w> </span><span class=n>Network</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Database</span><span class=w>    </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w> </span><span class=n>EE</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>System</span><span class=w>      </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Operating</span><span class=w> </span><span class=n>System</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h2 id=3-修改数据>3. 修改数据</h2><p>使用 UPDATE 语句修改单个表，语法格式为：</p><div class=highlight id=id-51><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w> </span><span class=kt>SET</span><span class=w> </span><span class=err>字段</span><span class=w> </span><span class=mi>1</span><span class=o>=</span><span class=err>值</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=p>[,</span><span class=err>字段</span><span class=w> </span><span class=mi>2</span><span class=o>=</span><span class=err>值</span><span class=w> </span><span class=mi>2</span><span class=err>…</span><span class=w> </span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>WHERE</span><span class=w> </span><span class=err>子句</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=err>子句</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIMIT</span><span class=w> </span><span class=err>子句</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>语法说明如下：</p><ul><li><code>&lt;表名></code>：用于指定要更新的表名称。</li><li><code>SET</code> 子句：用于指定表中要修改的列名及其列值。其中，每个指定的列值可以是表达式，也可以是该列对应的默认值。如果指定的是默认值，可用关键字 DEFAULT 表示列值。</li><li><code>WHERE</code> 子句：可选项。用于限定表中要修改的行。若不指定，则修改表中所有的行。</li><li><code>ORDER BY</code> 子句：可选项。用于限定表中的行被修改的次序。</li><li><code>LIMIT</code> 子句：可选项。用于限定被修改的行数。</li></ul><blockquote><p>注意：修改一行数据的多个列值时，SET 子句的每个值用逗号分开即可。</p></blockquote><div class=highlight id=id-52><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 更新所有行的 course_grade 字段值为 4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=n>tb_courses_new</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=kt>SET</span><span class=w> </span><span class=n>course_grade</span><span class=o>=</span><span class=mi>4</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>11</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Rows</span><span class=w> </span><span class=n>matched</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=w>  </span><span class=n>Changed</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=w>  </span><span class=n>Warnings</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses_new</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_info</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Network</span><span class=w>     </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Computer</span><span class=w> </span><span class=n>Network</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Database</span><span class=w>    </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w> </span><span class=n>EE</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>System</span><span class=w>      </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Operating</span><span class=w> </span><span class=n>System</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 更新 course_id 值为 2 的记录，将 course_grade 字段值改为 3.5，将 course_name 字段值改为“DB”
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=n>tb_courses_new</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=kt>SET</span><span class=w> </span><span class=n>course_name</span><span class=o>=</span><span class=s1>&#39;DB&#39;</span><span class=p>,</span><span class=n>course_grade</span><span class=o>=</span><span class=mi>3</span><span class=p>.</span><span class=mi>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>course_id</span><span class=o>=</span><span class=mi>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>13</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Rows</span><span class=w> </span><span class=n>matched</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=w>  </span><span class=n>Changed</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=w>  </span><span class=n>Warnings</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses_new</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_info</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Network</span><span class=w>     </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Computer</span><span class=w> </span><span class=n>Network</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>DB</span><span class=w>          </span><span class=o>|</span><span class=w>          </span><span class=mi>3</span><span class=p>.</span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w> </span><span class=n>EE</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>System</span><span class=w>      </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Operating</span><span class=w> </span><span class=n>System</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h2 id=4-删除数据>4. 删除数据</h2><p>使用 DELETE 语句从单个表中删除数据，语法格式为：</p><div class=highlight id=id-53><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=err>表名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>WHERE</span><span class=w> </span><span class=err>子句</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=err>子句</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIMIT</span><span class=w> </span><span class=err>子句</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>语法说明如下：</p><ul><li><code>&lt;表名></code>：指定要删除数据的表名。</li><li><code>ORDER BY</code> 子句：可选项。表示删除时，表中各行将按照子句中指定的顺序进行删除。</li><li><code>WHERE</code> 子句：可选项。表示为删除操作限定删除条件，若省略该子句，则代表删除该表中的所有行。</li><li><code>LIMIT</code> 子句：可选项。用于告知服务器在控制命令被返回到客户端前被删除行的最大值。</li></ul><p>注意：在不使用 WHERE 条件的时候，将删除所有数据。</p><div class=highlight id=id-54><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 删除表中全部数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses_new</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>12</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses_new</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Empty</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 删除 course_id 为 4 的记录
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>-&gt;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>course_id</span><span class=o>=</span><span class=mi>4</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Query</span><span class=w> </span><span class=n>OK</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=nf>affected</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_courses</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>course_id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_name</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_grade</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>course_info</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Network</span><span class=w>     </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Computer</span><span class=w> </span><span class=n>Network</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>Database</span><span class=w>    </span><span class=o>|</span><span class=w>            </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>MySQL</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>         </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w>        </span><span class=o>|</span><span class=w>            </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Java</span><span class=w> </span><span class=n>EE</span><span class=w>          </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------------+--------------+------------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>3</span><span class=w> </span><span class=n>rows</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p><strong>TRUNCATE</strong> 关键字可以用于完全清空一个表</p><div class=highlight id=id-55><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>TRUNCATE [TABLE] 表名</span></span></code></pre></td></tr></table></div></div><p>其中，TABLE 关键字可省略。</p><div class=highlight id=id-56><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mysql&gt; TRUNCATE TABLE tb_student_course;
</span></span><span class=line><span class=cl>Query OK, 0 rows affected (0.04 sec)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>mysql&gt; SELECT * FROM tb_student_course;
</span></span><span class=line><span class=cl>Empty set (0.00 sec)</span></span></code></pre></td></tr></table></div></div><p><strong>TRUNCATE 和 DELETE 的区别</strong></p><p>从逻辑上说，TRUNCATE 语句与 DELETE 语句作用相同，但是在某些情况下，两者在使用上有所区别。</p><ul><li>DELETE 是 DML 类型的语句；TRUNCATE 是 DDL 类型的语句。它们都用来清空表中的数据。</li><li>DELETE 是逐行一条一条删除记录的；TRUNCATE 则是直接删除原来的表，再重新创建一个一模一样的新表，而不是逐行删除表中的数据，执行数据比 DELETE 快。因此需要删除表中全部的数据行时，尽量使用 TRUNCATE 语句， 可以缩短执行时间。</li><li>DELETE 删除数据后，配合事件回滚可以找回数据；TRUNCATE 不支持事务的回滚，数据删除后无法找回。</li><li>DELETE 删除数据后，系统不会重新设置自增字段的计数器；TRUNCATE 清空表记录后，系统会重新设置自增字段的计数器。</li><li>DELETE 的使用范围更广，因为它可以通过 WHERE 子句指定条件来删除部分数据；而 TRUNCATE 不支持 WHERE 子句，只能删除整体。</li><li>DELETE 会返回删除数据的行数，但是 TRUNCATE 只会返回 0，没有任何意义。</li></ul><p><strong>总结</strong></p><p>当不需要该表时，用 DROP；当仍要保留该表，但要删除所有记录时，用 TRUNCATE；当要删除部分记录时，用 DELETE</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2020-09-13 00:00:00">更新于 2020-09-13&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2020/mysql-learning-6-data-query-language/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2020/mysql-learning-6-data-query-language/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2020/mysql-learning-6-data-query-language/ data-title=Mysql学习6-操作表中数据><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/ class=post-tag>计算机基础</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2020/mysql-learning-5-constraints-and-operators/ class=post-nav-item rel=prev title=Mysql学习5-约束与运算符><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Mysql学习5-约束与运算符</a>
<a href=/2020/golang-interact-with-mysql/ class=post-nav-item rel=next title=Golang数据库编程>Golang数据库编程<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=/images/alipay.png srcset="/images/alipay.png, /images/alipay.png 1.5x, /images/alipay.png 2x" sizes=auto data-title="Shuzang 支付宝" data-alt="Shuzang 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=/images/wechatpay.png srcset="/images/wechatpay.png, /images/wechatpay.png 1.5x, /images/wechatpay.png 2x" sizes=auto data-title="Shuzang 微信" data-alt="Shuzang 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">Hava a great day !</div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=/>Shuzang</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/twemoji/twemoji.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>