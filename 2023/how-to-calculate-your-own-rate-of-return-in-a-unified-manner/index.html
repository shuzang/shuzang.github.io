<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>如何统一计算自己的收益率 - Shuzang's Blog</title><meta name=author content><meta name=author-link content><meta name=description content="目前面临的问题是：投资了太多东西，如货币基金、债券、指数基金等等，但年末缺少统一计算自己当年收益率的方法。经过查阅，常见的收益率计算方法包括简单投资收益率（ROI，Return on Investment）、时间加权收益率（TWR，Time Weighted Retrun）和资金加权收益率（MWR，Money Weighted Return），本文对这三种方法进行介绍，同时用案例说明计算方法，并在最后简述自己的考虑。"><meta name=keywords content="个人财务体系"><meta itemprop=name content="如何统一计算自己的收益率"><meta itemprop=description content="目前面临的问题是：投资了太多东西，如货币基金、债券、指数基金等等，但年末缺少统一计算自己当年收益率的方法。经过查阅，常见的收益率计算方法包括简单投资收益率（ROI，Return on Investment）、时间加权收益率（TWR，Time Weighted Retrun）和资金加权收益率（MWR，Money Weighted Return），本文对这三种方法进行介绍，同时用案例说明计算方法，并在最后简述自己的考虑。"><meta itemprop=datePublished content="2023-12-22T00:00:00+00:00"><meta itemprop=dateModified content="2023-12-22T00:00:00+00:00"><meta itemprop=wordCount content="3551"><meta itemprop=image content="https://shuzang.github.io/logo.png"><meta itemprop=keywords content="个人财务体系,"><meta property="og:title" content="如何统一计算自己的收益率"><meta property="og:description" content="目前面临的问题是：投资了太多东西，如货币基金、债券、指数基金等等，但年末缺少统一计算自己当年收益率的方法。经过查阅，常见的收益率计算方法包括简单投资收益率（ROI，Return on Investment）、时间加权收益率（TWR，Time Weighted Retrun）和资金加权收益率（MWR，Money Weighted Return），本文对这三种方法进行介绍，同时用案例说明计算方法，并在最后简述自己的考虑。"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/2023/how-to-calculate-your-own-rate-of-return-in-a-unified-manner/"><meta property="og:image" content="https://shuzang.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-22T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shuzang.github.io/logo.png"><meta name=twitter:title content="如何统一计算自己的收益率"><meta name=twitter:description content="目前面临的问题是：投资了太多东西，如货币基金、债券、指数基金等等，但年末缺少统一计算自己当年收益率的方法。经过查阅，常见的收益率计算方法包括简单投资收益率（ROI，Return on Investment）、时间加权收益率（TWR，Time Weighted Retrun）和资金加权收益率（MWR，Money Weighted Return），本文对这三种方法进行介绍，同时用案例说明计算方法，并在最后简述自己的考虑。"><meta name=application-name content="Shuzang's Blog"><meta name=apple-mobile-web-app-title content="Shuzang's Blog"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://shuzang.github.io/2023/how-to-calculate-your-own-rate-of-return-in-a-unified-manner/><link rel=prev href=https://shuzang.github.io/2023/using-hugo-to-build-personal-blog-6-cdn/><link rel=next href=https://shuzang.github.io/2023/end-of-2023-summary/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css></noscript><link rel=preload href=https://unpkg.com/animate.css@4.1.1/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"如何统一计算自己的收益率","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2023\/how-to-calculate-your-own-rate-of-return-in-a-unified-manner\/"},"genre":"posts","keywords":"个人财务体系","wordcount":3551,"url":"https:\/\/shuzang.github.io\/2023\/how-to-calculate-your-own-rate-of-return-in-a-unified-manner\/","datePublished":"2023-12-22T00:00:00+00:00","dateModified":"2023-12-22T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"作者"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title="Shuzang's Blog" data-alt="Shuzang's Blog" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shuzang's Blog"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-title=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png data-alt=https://picped-1301226557.cos.ap-beijing.myqcloud.com/avatar.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Shuzang's Blog</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/collection/><i class="fa-solid fa-bookmark fa-fw fa-sm" aria-hidden=true></i> 集子</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>如何统一计算自己的收益率</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i></span></span>
<span class=post-category>收录于 <a href=/categories/%E6%88%91%E6%89%80%E7%83%AD%E7%88%B1%E7%9A%84%E7%94%9F%E6%B4%BB%E5%95%8A/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 我所热爱的生活啊</a></span></div><div class=post-meta-line><span title="发布于 2023-12-22 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2023-12-22>2023-12-22</time></span>&nbsp;<span title="更新于 2023-12-22 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-12-22>2023-12-22</time></span>&nbsp;<span title="3551 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 3600 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 8 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#收益率计算方法>收益率计算方法</a><ul><li><a href=#简单投资收益率-roi>简单投资收益率 ROI</a></li><li><a href=#时间加权收益率-twr>时间加权收益率 TWR</a></li><li><a href=#资金加权收益率-mwr>资金加权收益率 MWR</a></li><li><a href=#xirr-内部收益率>XIRR 内部收益率</a></li></ul></li><li><a href=#计算方法选择>计算方法选择</a><ul><li><a href=#两种考虑>两种考虑</a></li><li><a href=#投资目标>投资目标</a></li></ul></li><li><a href=#参考资料>参考资料</a></li></ul></nav></div></div><div class=content id=content><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i>注意<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2023-12-22，文中内容可能已过时。</div></div></div><p>目前面临的问题是：投资了太多东西，如货币基金、债券、指数基金等等，但年末缺少统一计算自己当年收益率的方法。经过查阅，常见的收益率计算方法包括简单投资收益率（ROI，Return on Investment）、时间加权收益率（TWR，Time Weighted Retrun）和资金加权收益率（MWR，Money Weighted Return），本文对这三种方法进行介绍，同时用案例说明计算方法，并在最后简述自己的考虑。</p><h2 id=收益率计算方法>收益率计算方法</h2><h3 id=简单投资收益率-roi>简单投资收益率 ROI</h3><p>假设我们的投资场景非常简单，在一开始投入一笔钱，经过一段时间，将本金收益一起取出，则
$$
ROI = \frac{投资净收益}{总投入}\times 100
$$</p><p>如果场景复杂化，过程中出现多笔投资，我们计算时可以用累计收益除以投入的本金总和。比如，1 月 1 日投入 10 万，后续再投入 24 万，年底市值 39.6 万元，则到年底累计投入本金 34 万，营利 5.6 万，投资收益率 ROI 为 5.6 / 34 = 16.47%。</p><p>ROI 的理解和计算都非常简单，但是它不考虑时间因素造成的影响，在未来投入大量资金会对 ROI 产生很大的影响。例如，假设 1 月 1 日投入 10 万，到 7 月 1 日，总资产增值为 20 万，此时的 R1 = （20-10）/10=100%，即上半年盈利 100%。7 月 1 日再投入 24 万，到 12 月 31 日年底结算，总资产变为 39.6 万，ROI =（39.6-34）/34 = 16.5%，我们得到了“该年收益率为 16.5%”这个结果，但实际上下半年 R2=（39.6-44）/44=-10%，即下半年亏损 10%。</p><h3 id=时间加权收益率-twr>时间加权收益率 TWR</h3><p>时间加权收益率 TWR 衡量我们的投资在一段时期内的复合收益率。假定投资期限一共分了 n 期，第 i 期的收益率为 Ri（采用 ROI 法进行计算），那么总收益率就是每个时期收益的连乘结果，即</p><p>$$
（1+R1）×（1+R2）×&mldr;×（1+Rn）\\
= 1 + R
$$
那么最终的业绩回报为：R=（1+R1）×（1+R2）×&mldr;×（1+Rn）-1。</p><p>假设我们把一年的投资期分为了三段，每一段的收益率分别是-10%、15%和 5%，那么年末的投资收益率 TWR = （1-10%）×（1+15%）×（1+5%）-1 = 8.675%。我们可以看到，在计算 TWR 时，收益率的顺序是无关紧要的，因此它不受外部现金流时间的影响，这使得这种方法极为适合评估一支基金的表现，因为基金经理无法控制每天交易的现金流规模或时间，因此，时间加权收益率 TWR 又称为基金净值法，分段收益率的体现就是基金的净值。</p><table><thead><tr><th>日期</th><th>总资产</th><th>总份额</th><th>净值</th><th>资金</th></tr></thead><tbody><tr><td>1 月 1 日</td><td>10 万</td><td>10 万</td><td>1</td><td></td></tr><tr><td>7 月 1 日</td><td>20 万</td><td>10 万</td><td>2</td><td>流入 24 万</td></tr><tr><td>7 月 2 日</td><td>44 万</td><td>22 万</td><td>2</td><td></td></tr><tr><td>12 月 31 日</td><td>39.6 万</td><td>22 万</td><td>1.8</td><td></td></tr></tbody></table><p>我们仍以简单投资收益率 ROI 一节末尾的例子做一个计算的说明，资金变动如上表所示，假设 1 月 1 日投入 10 万，份额为 10 万份，净值为 1。到 7 月 1 日，总资产增值为 20 万，净值变化为（20 万/10 万份）=2，R1=（20-10）/10=100%，即上半年盈利 100%。</p><p>7 月 1 日再投入 24 万，则 7 月 2 日期初，购入份额为（24/2）=12 万份，总资产变为（20+24）=44 万，总份额=10+24/2=22 万份。12 月 31 日年底结算，总资产变为 39.6 万，净值变化为（39.6/22）=1.8。R2=（39.6-44）/44=-10%，即下半年亏损 10%。</p><p>综上，时间加权收益率 R=（1+100%）×（1-10%）-1 = 80%，赚了 80%，因为年初净值为 1，所以我们直接看年末净值 1.8 也可以得到“赚了 80%”这个结果。但如果按累计收益法，本金 34 万，期末净资产为 39.6 万，只赚了（39.6-34）/34 = 16.5%。</p><p>下面对时间加权法的具体步骤进行总结：</p><ol><li><p>把我们的投资账户理解成小型“私人基金”，将投入的每元钱按 1:1 拆分成“基金份额”；</p></li><li><p>每日收盘后，用总资产除以基金份额，得到每日的“基金净值”；</p></li><li><p>取出或投入资金时，该笔资金/当日基金净值，既可得到需相应增减的“基金份额”；</p></li></ol><p>账户日内交易不影响统计，每日刷新收盘的总资产既可，而且对我们个人来说，也不必刻意每日统计，可调整为周/月，在资金进出的当日调整一下“基金份额”既可。</p><h3 id=资金加权收益率-mwr>资金加权收益率 MWR</h3><p>时间加权收益率不受外部现金流时间的影响，资金加权收益率则把外部现金流的大小和流入时间都考虑在内。</p><p>如果不考虑资金的投入和取出，期末的总资产 Ve 就等于期初的总资产 Vs 乘以（1+R），R 为收益率
$$
Ve = Vs \times (1 + R)
$$
如果考虑外部现金流的影响，上述公式变为
$$
Ve = Vs \times (1+R)+C \times (1+R) ^{0.5}
$$
该公式简单的理解就是期初投入的资金权重记为 1，其中投入的资金（即外部现金流 C）权重记为 0.5，并与期初资产一样按照收益率 R 产生收益，达到期末资产 Ve，该方法就叫<strong>简单内部收益率</strong>（Simple Internal Rate of Return）</p><p>简单内部收益率公式为超越函数，需要通过数值法迭代计算，手工计算较为复杂。考虑到该公式的一个隐含的含义为“复利”，因此若假设为“单利”，则上述公式可以进行简化，演算过程为
$$
Ve = Vs \ast (1+R)+C \ast (1+R)^{0.5} \\
\approx Vs \ast (1+R)+C\ast(1+\frac{R}{2}) \\
= Vs+C+R\ast(Vs+\frac{C}{2})
$$
因此，最后结果为
$$
R = \frac{Ve-Vs-C}{Vs+\frac{C}{2}}
$$
我们可以将分子理解为投资收益，将分母理解为等效投资成本，这种方法因为对过程进行了简化，叫做简单 Dietz 方法（Simple Dietz Method），还是以之前的例子来解释，期初资金 Vs = 10 万，年中又投入 24 万，期末资金 Ve=39.6 万，则收益率计算如下
$$
R = \frac{39.6-10-24}{10+\frac{24}{2}} = \frac{5.6}{22} = 25.45%
$$</p><table><thead><tr><th>日期</th><th>总资产</th><th>总份额</th><th>净值</th><th>资金</th></tr></thead><tbody><tr><td>1 月 1 日</td><td>10 万</td><td>10 万</td><td>1</td><td></td></tr><tr><td>7 月 1 日</td><td>20 万</td><td>10 万</td><td>2</td><td>流入 24 万</td></tr><tr><td>7 月 2 日</td><td>44 万</td><td>22 万</td><td>2</td><td></td></tr><tr><td>12 月 31 日</td><td>39.6 万</td><td>22 万</td><td>1.8</td><td></td></tr></tbody></table><p>简单内部收益率假设外部现金流权重为 0.5，即假定在区间中点投入，如果投入的时间不是正好在中间，根据简单内部收益率，假定每次的现金流均以收益率 R 产生收益，则收益率公式变为：
$$
Ve=Vs\ast(1+R)+\sum_{t=T}^{t=1}C_t\ast(1+R)^{w_t}
$$
其中，
$$
W_t = \frac{TD-D_t}{TD}
$$
$C_t$为每次的外部现金流，TD 为整个计算周期的天数，$D_t$为期初到发生现金流的天数（包括非交易日）</p><p>为了方便计算，上述公式同样可以进行演化，过程如下
$$
Ve=Vs\ast(1+R)+\sum_{t=T}^{t=1}C_t\ast(1+R)^{w_t} \\
\approx Vs\ast(1+R)+\sum C_t\ast(1+W_t\ast R) \\
=Vs+\sum C_t + R\ast(Vs+\sum C_t\ast W_t)
$$
因此，最后结果为
$$
R=\frac{Ve-Vs-C}{Vs+\sum C_t \ast W_t}
$$
叫做修正 Dietz 方法（Modified Dietz Method）, 重复上面的案例，区别是 24 万分 2 次投入，期初资金 Vs = 10 万，年中陆续又投入 24 万，其中 4 月流入的 12 万权重为（12-3）/12=3/4，7 月流入的 12 万权重为（12-6）/12= 1/2，（期末资金 Ve=43.2 万，则收益率计算如下
$$
R=\frac{43.2-10-24}{10+12\ast3/4+12\ast1/2} = 36.8%
$$</p><table><thead><tr><th>日期</th><th>总资产</th><th>总份额</th><th>净值</th><th>资金</th></tr></thead><tbody><tr><td>1 月 1 日</td><td>10 万</td><td>10 万</td><td>1</td><td></td></tr><tr><td>4 月 1 日</td><td>15 万</td><td>10 万</td><td>1.5</td><td>流入 12 万</td></tr><tr><td>4 月 2 日</td><td>27 万</td><td>18 万</td><td>1.5</td><td></td></tr><tr><td>7 月 1 日</td><td>36 万</td><td>18 万</td><td>2</td><td>流入 12 万</td></tr><tr><td>7 月 2 日</td><td>48 万</td><td>24 万</td><td>2</td><td></td></tr><tr><td>12 月 31 日</td><td>43.2 万</td><td>24 万</td><td>1.8</td><td></td></tr></tbody></table><p>如果投资期内本金变动频繁，自己又关心长期年复合收益率，可以使用资金加权收益率 MWR 法。</p><h3 id=xirr-内部收益率>XIRR 内部收益率</h3><p>MWR 实际上是比较适合我们使用的，但计算起来比较麻烦，Excle 提供的 XIRR 函数是一个比较不错的替代方法，和资金加权收益率的修正 Dietz 方法计算结果可以趋同。</p><p>要理解 XIRR，先要理解 IRR 的定义。已知投资期内所有现金流，假设所有的这些现金流具有相同的复合年化收益率，最后得到了我们在期末看到的总资产的值，内部收益率（IRR）就是要算出这个复合年化收益率的值是多少。 而 XIRR 与 IRR 的区别是，IRR 法默认提供给它的每期现金流是”等时间间隔“的，而 XIRR 把每期投入的现金流动首先按投入日期与第一期的日期天数差，折算到”等时间间隔为 1 天“，然后再进一步折算到”年化收益率“。所以，XIRR 法计算出的直接就是年化收益率了，不过要注意函数 XIRR 要求至少有一个正现金流和一个负现金流，且如果一个值是成本或支付，则它必须是负值。</p><p>仍以之前的例子说明，1 月 1 日开始，中间有两笔现金流，通过 XIRR 函数，我们得到了年化收益率为 38.12%，与修正 Dietz 方法结果基本相似。</p><p><figure><a class=lightgallery href="https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR%e5%87%bd%e6%95%b0.png?size=large" data-thumbnail="https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR函数.png?size=small" data-sub-html="<h2>XIRR 函数使用</h2><p>XIRR 函数使用</p>"><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR%e5%87%bd%e6%95%b0.png srcset="https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR%e5%87%bd%e6%95%b0.png?size=small, https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR%e5%87%bd%e6%95%b0.png?size=medium 1.5x, https://picped-1301226557.cos.ap-beijing.myqcloud.com/SH_20231222_XIRR%e5%87%bd%e6%95%b0.png?size=large 2x" sizes=auto data-title="XIRR 函数使用" data-alt="XIRR 函数使用" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>XIRR 函数使用</figcaption></figure></p><p>接下来我们做个简单的比较说明</p><ul><li>IRR 算出来的是每期收益率（资金定期流入，资金方向变动 1 次），如月收益率、季度收益率、年收益率等。</li><li>XIRR 算出来的是年化收益率（资金不定期流入流出，资金方向变动 N 次）</li><li>Modified Dietz 算出来的是某个时间段的收益率（不一定是整年）</li></ul><h2 id=计算方法选择>计算方法选择</h2><h3 id=两种考虑>两种考虑</h3><p>一种是把把自己所有的流动性资产，即股票、债券、存款、现金等全部统计进来，这样得到的结果是反映的是自身总资产的升值速度。另一种是只考虑自己的投资资产，即基金和股票账户，反映的是自己的投资能力。</p><p>目前计划综合采用时间加权收益率（基金净值）法和 XIRR 内部收益率法，两者比对着来看自己的收益率。其中基金净值法要求每个月末记录账户的资产值。</p><h3 id=投资目标>投资目标</h3><p>假设未来三十年内通货膨胀率为 3%，M2 货币的年增长率为 7%。如果投资在此期间保持大于 3%的投资收益，那么购买力不会受到损失；如果保持大于 7%的投资收益，那么在社会上的财富地位得以保持。 同理，既然是做稳健投资，长线来看首先要跑赢存款利率，不如直接存银行定期。</p><h2 id=参考资料>参考资料</h2><p>[1] <a href="https://zhuanlan.zhihu.com/p/108455185?utm_id=0" target=_blank rel="external nofollow noopener noreferrer">投资太多东西，如何统一计算自己的收益率？ - 知乎 (zhihu.com)</a></p><p>[2] <a href=https://xueqiu.com/3718033054/138945594 target=_blank rel="external nofollow noopener noreferrer">KlipC 讲解投资收益率、时间加权收益率、资金加权收益率 Part 1 -雪球 (xueqiu.com)</a></p><p>[3] <a href=https://xueqiu.com/9793054414/139034047 target=_blank rel="external nofollow noopener noreferrer">KlipC 讲解三个衡量交易员收益率的计算方式和准确性 Part 2 - 雪球 (xueqiu.com)</a></p><p>[4] <a href=https://www.jianshu.com/p/1876e50b67c9 target=_blank rel="external nofollow noopener noreferrer">基金的金额加权收益率（MWRR）和时间加权收益率（TWRR） - 简书 (jianshu.com)</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-12-22 00:00:00">更新于 2023-12-22&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/2023/how-to-calculate-your-own-rate-of-return-in-a-unified-manner/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://shuzang.github.io/2023/how-to-calculate-your-own-rate-of-return-in-a-unified-manner/><i class="fa-brands fa-get-pocket fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://shuzang.github.io/2023/how-to-calculate-your-own-rate-of-return-in-a-unified-manner/ data-title=如何统一计算自己的收益率><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/%E4%B8%AA%E4%BA%BA%E8%B4%A2%E5%8A%A1%E4%BD%93%E7%B3%BB/ class=post-tag>个人财务体系</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2023/using-hugo-to-build-personal-blog-6-cdn/ class=post-nav-item rel=prev title=hugo搭建个人博客6-CDN加速><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>hugo搭建个人博客6-CDN加速</a>
<a href=/2023/end-of-2023-summary/ class=post-nav-item rel=next title=2023年末总结和2024新年计划>2023年末总结和2024新年计划<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment></div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>赞赏</label><div class=reward-ways data-mode=static><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/alipay.png data-title=" 支付宝" data-alt=" 支付宝" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>支付宝</span></div><div><img loading=lazy src=https://picped-1301226557.cos.ap-beijing.myqcloud.com/wechatpay.png data-title=" 微信" data-alt=" 微信" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span>微信</span></div></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">Hava a great day !</div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2025</span><span class=author itemprop=copyrightHolder>
<a href=/></a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><a href=https://github.com/shuzang/shuzang.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=https://unpkg.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><link rel=preload href=https://unpkg.com/katex@0.16.2/dist/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/katex@0.16.2/dist/katex.min.css></noscript><link rel=stylesheet href=https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css><script src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://unpkg.com/fuse.js@6.6.2/dist/fuse.min.js defer></script><script src=https://unpkg.com/twemoji@14.0.2/dist/twemoji.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/lightgallery.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js defer></script><script src=https://unpkg.com/sharer.js@0.5.1/sharer.min.js async defer></script><script src=https://unpkg.com/katex@0.16.2/dist/katex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/auto-render.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/copy-tex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/mhchem.min.js defer></script><script src=https://unpkg.com/pangu@4.0.7/dist/browser/pangu.min.js defer></script><script src=https://unpkg.com/pace-js@1.2.4/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{enable:!1},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0}</script><script src=/js/theme.min.js defer></script></body></html>